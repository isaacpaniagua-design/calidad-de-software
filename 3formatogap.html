<!doctype html>
<html lang="es">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gap Analysis SQA - Herramienta de Diagn√≥stico</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .gap-analysis-header {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 50%, #b45309 100%);
            border-bottom: 4px solid #92400e;
        }
        .template-card {
            transition: all 0.3s ease;
            border: 2px solid #e5e7eb;
        }
        .template-card:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            transform: translateY(-2px);
            border-color: #f59e0b;
        }
        .gap-status-cumplido {
            background: #d1fae5;
            color: #065f46;
        }
        .gap-status-parcial {
            background: #fef3c7;
            color: #d97706;
        }
        .gap-status-no-cumplido {
            background: #fee2e2;
            color: #dc2626;
        }
        .priority-alta {
            background: #fee2e2;
            color: #dc2626;
        }
        .priority-media {
            background: #fef3c7;
            color: #d97706;
        }
        .priority-baja {
            background: #d1fae5;
            color: #065f46;
        }
        .loading-spinner {
            border: 2px solid #f3f4f6;
            border-top: 2px solid #f59e0b;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .status-badge {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 4px 8px;
            border-radius: 4px;
        }
        .formal-input {
            border: 1px solid #d1d5db;
            font-size: 14px;
            transition: border-color 0.2s ease;
        }
        .formal-input:focus {
            border-color: #f59e0b;
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
        }
        .executive-button {
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 13px;
            border: 2px solid transparent;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="min-h-full bg-gray-50"><!-- Header -->
  <header class="gap-analysis-header text-white py-8 mb-8">
   <div class="container mx-auto px-6">
    <div class="text-center">
     <div class="flex justify-center items-center gap-3 mb-2"><span class="text-4xl">üîç</span>
      <h1 class="text-4xl font-bold">Gap Analysis SQA</h1>
     </div>
     <div class="flex justify-center items-center gap-6 text-lg mb-4 opacity-90">
      <div class="flex items-center gap-2"><span>Organizaci√≥n:</span> <span id="organization-display" class="font-semibold cursor-pointer hover:bg-amber-600 hover:bg-opacity-30 px-2 py-1 rounded transition-colors" title="Click para editar">Mi Organizaci√≥n</span> <input type="text" id="organization-edit" class="font-semibold bg-amber-600 bg-opacity-30 text-white placeholder-amber-200 border border-amber-400 rounded px-2 py-1 text-lg hidden focus:outline-none focus:ring-2 focus:ring-amber-300" placeholder="Nombre de la organizaci√≥n"> <button id="organization-save" class="hidden text-amber-200 hover:text-white ml-1" title="Guardar">‚úì</button> <button id="organization-cancel" class="hidden text-amber-200 hover:text-white ml-1" title="Cancelar">‚úó</button>
      </div><span class="text-amber-200">|</span>
      <div class="flex items-center gap-2"><span>Modelo Objetivo:</span> <span id="target-model-display" class="font-semibold cursor-pointer hover:bg-amber-600 hover:bg-opacity-30 px-2 py-1 rounded transition-colors" title="Click para editar">CMMI Level 3</span> <input type="text" id="target-model-edit" class="font-semibold bg-amber-600 bg-opacity-30 text-white placeholder-amber-200 border border-amber-400 rounded px-2 py-1 text-lg hidden focus:outline-none focus:ring-2 focus:ring-amber-300" placeholder="Modelo objetivo"> <button id="target-model-save" class="hidden text-amber-200 hover:text-white ml-1" title="Guardar">‚úì</button> <button id="target-model-cancel" class="hidden text-amber-200 hover:text-white ml-1" title="Cancelar">‚úó</button>
      </div>
     </div>
     <p class="text-amber-100 max-w-4xl mx-auto text-lg leading-relaxed"><strong>Herramienta de diagn√≥stico estrat√©gico</strong> para evaluar brechas entre pr√°cticas actuales y requisitos de modelos de calidad. Compare su estado actual contra est√°ndares de la industria.</p>
    </div>
   </div>
  </header>
  <main class="container mx-auto px-6 pb-12"><!-- Gap Analysis Templates -->
   <section class="mb-8">
    <div class="border-b border-amber-300 pb-4 mb-6">
     <h2 class="text-2xl font-semibold text-amber-800 flex items-center gap-3"><span class="text-3xl">üìã</span> Plantillas de Gap Analysis por Modelo</h2>
     <p class="text-amber-700 mt-2 text-lg">Seleccione una plantilla predefinida para comenzar el diagn√≥stico r√°pidamente</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
     <div class="template-card bg-white rounded-lg p-6 cursor-pointer" data-template="cmmi-level-2">
      <div class="flex items-start gap-4">
       <div class="text-4xl">
        üéØ
       </div>
       <div class="flex-1">
        <h3 class="text-xl font-bold text-blue-800 mb-2">CMMI Level 2</h3>
        <p class="text-blue-600 mb-3">Procesos Gestionados</p>
        <div class="text-sm text-gray-600 mb-4">
         <div class="mb-1">
          ‚Ä¢ REQM: Gesti√≥n de Requisitos
         </div>
         <div class="mb-1">
          ‚Ä¢ PMC: Monitoreo y Control
         </div>
         <div class="mb-1">
          ‚Ä¢ 12 pr√°cticas espec√≠ficas
         </div>
        </div>
        <div class="text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full inline-block">
         Enfoque: Disciplina de Proyecto
        </div>
       </div>
      </div>
     </div>
     <div class="template-card bg-white rounded-lg p-6 cursor-pointer" data-template="cmmi-level-3">
      <div class="flex items-start gap-4">
       <div class="text-4xl">
        üèÜ
       </div>
       <div class="flex-1">
        <h3 class="text-xl font-bold text-purple-800 mb-2">CMMI Level 3</h3>
        <p class="text-purple-600 mb-3">Procesos Definidos</p>
        <div class="text-sm text-gray-600 mb-4">
         <div class="mb-1">
          ‚Ä¢ OSSP + Procesos de Ingenier√≠a
         </div>
         <div class="mb-1">
          ‚Ä¢ RD, TS, PI, VER, VAL
         </div>
         <div class="mb-1">
          ‚Ä¢ 18 pr√°cticas organizacionales
         </div>
        </div>
        <div class="text-xs bg-purple-50 text-purple-700 px-3 py-1 rounded-full inline-block">
         Enfoque: Estandarizaci√≥n Organizacional
        </div>
       </div>
      </div>
     </div>
     <div class="template-card bg-white rounded-lg p-6 cursor-pointer" data-template="iso-9001">
      <div class="flex items-start gap-4">
       <div class="text-4xl">
        üìã
       </div>
       <div class="flex-1">
        <h3 class="text-xl font-bold text-green-800 mb-2">ISO 9001:2015</h3>
        <p class="text-green-600 mb-3">Sistema de Gesti√≥n de Calidad</p>
        <div class="text-sm text-gray-600 mb-4">
         <div class="mb-1">
          ‚Ä¢ Contexto Organizacional
         </div>
         <div class="mb-1">
          ‚Ä¢ Liderazgo y Compromiso
         </div>
         <div class="mb-1">
          ‚Ä¢ 15 requisitos clave
         </div>
        </div>
        <div class="text-xs bg-green-50 text-green-700 px-3 py-1 rounded-full inline-block">
         Enfoque: Sistema de Gesti√≥n
        </div>
       </div>
      </div>
     </div>
     <div class="template-card bg-white rounded-lg p-6 cursor-pointer" data-template="agile-maturity">
      <div class="flex items-start gap-4">
       <div class="text-4xl">
        üöÄ
       </div>
       <div class="flex-1">
        <h3 class="text-xl font-bold text-orange-800 mb-2">Madurez √Ågil</h3>
        <p class="text-orange-600 mb-3">Scrum + DevOps</p>
        <div class="text-sm text-gray-600 mb-4">
         <div class="mb-1">
          ‚Ä¢ Framework Scrum Completo
         </div>
         <div class="mb-1">
          ‚Ä¢ Pr√°cticas DevOps
         </div>
         <div class="mb-1">
          ‚Ä¢ 14 pr√°cticas √°giles
         </div>
        </div>
        <div class="text-xs bg-orange-50 text-orange-700 px-3 py-1 rounded-full inline-block">
         Enfoque: Agilidad y Entrega Continua
        </div>
       </div>
      </div>
     </div>
     <div class="template-card bg-white rounded-lg p-6 cursor-pointer" data-template="security-compliance">
      <div class="flex items-start gap-4">
       <div class="text-4xl">
        üîí
       </div>
       <div class="flex-1">
        <h3 class="text-xl font-bold text-red-800 mb-2">Seguridad</h3>
        <p class="text-red-600 mb-3">ISO 27001 + GDPR</p>
        <div class="text-sm text-gray-600 mb-4">
         <div class="mb-1">
          ‚Ä¢ Controles de Seguridad
         </div>
         <div class="mb-1">
          ‚Ä¢ Protecci√≥n de Datos
         </div>
         <div class="mb-1">
          ‚Ä¢ 16 controles clave
         </div>
        </div>
        <div class="text-xs bg-red-50 text-red-700 px-3 py-1 rounded-full inline-block">
         Enfoque: Seguridad y Compliance
        </div>
       </div>
      </div>
     </div>
     <div class="template-card bg-white rounded-lg p-6 cursor-pointer" data-template="digital-maturity">
      <div class="flex items-start gap-4">
       <div class="text-4xl">
        üíª
       </div>
       <div class="flex-1">
        <h3 class="text-xl font-bold text-indigo-800 mb-2">Madurez Digital</h3>
        <p class="text-indigo-600 mb-3">Cloud + AI + DevOps</p>
        <div class="text-sm text-gray-600 mb-4">
         <div class="mb-1">
          ‚Ä¢ Transformaci√≥n Digital
         </div>
         <div class="mb-1">
          ‚Ä¢ Tecnolog√≠as Emergentes
         </div>
         <div class="mb-1">
          ‚Ä¢ 20 capacidades digitales
         </div>
        </div>
        <div class="text-xs bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full inline-block">
         Enfoque: Innovaci√≥n Tecnol√≥gica
        </div>
       </div>
      </div>
     </div>
    </div>
   </section><!-- Gap Analysis Form -->
   <section class="bg-white rounded-lg p-8 mb-8 border border-amber-200">
    <div class="border-b border-amber-200 pb-4 mb-6">
     <h2 class="text-2xl font-semibold text-amber-800 flex items-center gap-3"><span class="text-3xl">‚úèÔ∏è</span> Crear Nueva Entrada de Gap Analysis</h2>
     <p class="text-amber-700 mt-2">Documente una brecha espec√≠fica entre su pr√°ctica actual y el requisito del modelo</p>
    </div>
    <form id="gap-form" class="space-y-6">
     <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <div><label for="gap-practice" class="block text-sm font-semibold text-amber-700 mb-2"> Pr√°ctica/Requisito del Modelo * </label> <input type="text" id="gap-practice" class="formal-input w-full px-4 py-3 rounded-md focus:outline-none" placeholder="Ej. CMMI REQM 1.1: Gestionar los requisitos" required>
       <p class="text-xs text-amber-600 mt-1">Sea espec√≠fico con el √°rea de proceso y pr√°ctica</p>
      </div>
      <div><label for="gap-status" class="block text-sm font-semibold text-amber-700 mb-2"> Estado de Cumplimiento * </label> <select id="gap-status" class="formal-input w-full px-4 py-3 rounded-md focus:outline-none" required> <option value="">Seleccionar estado</option> <option value="cumplido">‚úÖ Cumplido - Pr√°ctica implementada correctamente</option> <option value="parcial">‚ö†Ô∏è Parcialmente Cumplido - Implementaci√≥n incompleta</option> <option value="no-cumplido">‚ùå No Cumplido - Pr√°ctica no implementada</option> </select>
      </div>
     </div>
     <div><label for="gap-current-practice" class="block text-sm font-semibold text-amber-700 mb-2"> Evidencia/Pr√°ctica Actual * </label> <textarea id="gap-current-practice" rows="4" class="formal-input w-full px-4 py-3 rounded-md focus:outline-none" placeholder="Describa espec√≠ficamente qu√© hacen hoy. Sea realista y detallado.

Ejemplo: 'Los cambios de requisitos se solicitan por WhatsApp o correo informal. No hay proceso de evaluaci√≥n de impacto ni aprobaci√≥n formal. La trazabilidad se mantiene en Excel desactualizado.'" required></textarea>
      <p class="text-xs text-amber-600 mt-1">Sea honesto y espec√≠fico sobre la situaci√≥n actual</p>
     </div>
     <div><label for="gap-recommended-action" class="block text-sm font-semibold text-amber-700 mb-2"> Acciones Recomendadas * </label> <textarea id="gap-recommended-action" rows="4" class="formal-input w-full px-4 py-3 rounded-md focus:outline-none" placeholder="Defina acciones espec√≠ficas y medibles para cerrar la brecha.

Ejemplo: 'Dise√±ar e implementar Formulario de Control de Cambios formal con flujo de aprobaci√≥n electr√≥nico. Capacitar a analistas en proceso. Implementar herramienta de trazabilidad autom√°tica.'" required></textarea>
      <p class="text-xs text-amber-600 mt-1">Proponga soluciones concretas y realizables</p>
     </div>
     <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <div><label for="gap-priority" class="block text-sm font-semibold text-amber-700 mb-2"> Prioridad de Implementaci√≥n </label> <select id="gap-priority" class="formal-input w-full px-4 py-3 rounded-md focus:outline-none"> <option value="alta">üî¥ Alta - Cr√≠tico para certificaci√≥n</option> <option value="media" selected>üü° Media - Importante pero no bloqueante</option> <option value="baja">üü¢ Baja - Mejora deseable</option> </select>
      </div>
      <div><label for="gap-effort" class="block text-sm font-semibold text-amber-700 mb-2"> Esfuerzo Estimado </label> <select id="gap-effort" class="formal-input w-full px-4 py-3 rounded-md focus:outline-none"> <option value="bajo">üü¢ Bajo - 1-2 semanas</option> <option value="medio" selected>üü° Medio - 1-2 meses</option> <option value="alto">üî¥ Alto - 3+ meses</option> </select>
      </div>
      <div><label for="gap-impact" class="block text-sm font-semibold text-amber-700 mb-2"> Impacto en Certificaci√≥n </label> <select id="gap-impact" class="formal-input w-full px-4 py-3 rounded-md focus:outline-none"> <option value="critico">üî¥ Cr√≠tico - Bloquea certificaci√≥n</option> <option value="importante" selected>üü° Importante - Afecta rating</option> <option value="menor">üü¢ Menor - Oportunidad de mejora</option> </select>
      </div>
     </div>
     <div class="flex justify-end"><button type="submit" id="create-gap-btn" class="executive-button bg-amber-700 hover:bg-amber-800 text-white px-8 py-3 rounded-md flex items-center gap-3"> <span>Agregar al Gap Analysis</span>
       <div id="gap-loading" class="loading-spinner hidden"></div></button>
     </div>
    </form>
   </section><!-- Gap Analysis Results -->
   <section id="gap-analysis-container">
    <div class="border-b border-amber-300 pb-4 mb-6">
     <div class="flex justify-between items-center">
      <div>
       <h2 class="text-2xl font-semibold text-amber-800 flex items-center gap-3"><span class="text-3xl">üìä</span> Resultados del Gap Analysis</h2>
       <p class="text-amber-700 mt-1">Diagn√≥stico completo de brechas identificadas</p>
      </div>
      <div class="flex gap-4 text-sm">
       <div class="flex items-center gap-2">
        <div class="w-3 h-3 bg-green-500 rounded"></div><span>Cumplido</span>
       </div>
       <div class="flex items-center gap-2">
        <div class="w-3 h-3 bg-yellow-500 rounded"></div><span>Parcial</span>
       </div>
       <div class="flex items-center gap-2">
        <div class="w-3 h-3 bg-red-500 rounded"></div><span>No Cumplido</span>
       </div>
      </div>
     </div>
    </div><!-- Gap Summary -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
     <div class="bg-white rounded-lg p-6 border border-amber-200 text-center shadow-sm">
      <div class="text-3xl font-bold text-amber-700 mb-2" id="total-gaps">
       0
      </div>
      <div class="text-sm text-amber-600">
       Total Evaluado
      </div>
      <div class="text-xs text-gray-500 mt-1">
       Pr√°cticas analizadas
      </div>
     </div>
     <div class="bg-white rounded-lg p-6 border border-green-200 text-center shadow-sm">
      <div class="text-3xl font-bold text-green-700 mb-2" id="compliant-gaps">
       0
      </div>
      <div class="text-sm text-green-600">
       Cumplido
      </div>
      <div class="text-xs text-gray-500 mt-1" id="compliant-percentage">
       0% del total
      </div>
     </div>
     <div class="bg-white rounded-lg p-6 border border-yellow-200 text-center shadow-sm">
      <div class="text-3xl font-bold text-yellow-700 mb-2" id="partial-gaps">
       0
      </div>
      <div class="text-sm text-yellow-600">
       Parcial
      </div>
      <div class="text-xs text-gray-500 mt-1" id="partial-percentage">
       0% del total
      </div>
     </div>
     <div class="bg-white rounded-lg p-6 border border-red-200 text-center shadow-sm">
      <div class="text-3xl font-bold text-red-700 mb-2" id="non-compliant-gaps">
       0
      </div>
      <div class="text-sm text-red-600">
       No Cumplido
      </div>
      <div class="text-xs text-gray-500 mt-1" id="non-compliant-percentage">
       0% del total
      </div>
     </div>
    </div><!-- Gap Analysis Table -->
    <div class="bg-white rounded-lg border border-amber-200 overflow-hidden shadow-sm">
     <div class="overflow-x-auto">
      <table class="w-full">
       <thead class="bg-amber-100 border-b border-amber-200">
        <tr>
         <th class="text-left p-4 font-semibold text-amber-800">Pr√°ctica/Requisito</th>
         <th class="text-left p-4 font-semibold text-amber-800">Estado</th>
         <th class="text-left p-4 font-semibold text-amber-800">Pr√°ctica Actual</th>
         <th class="text-left p-4 font-semibold text-amber-800">Acci√≥n Recomendada</th>
         <th class="text-left p-4 font-semibold text-amber-800">Prioridad</th>
         <th class="text-center p-4 font-semibold text-amber-800">Acciones</th>
        </tr>
       </thead>
       <tbody id="gap-analysis-table"><!-- Gap entries will be rendered here -->
       </tbody>
      </table>
     </div>
    </div>
    <div id="no-gaps-message" class="text-center py-16 text-amber-600">
     <div class="text-6xl mb-4 text-amber-400">
      üîç
     </div>
     <h3 class="text-2xl font-medium text-amber-700 mb-3">No hay Gap Analysis Definido</h3>
     <p class="text-amber-600 text-lg mb-4">Use las plantillas predefinidas o cree entradas personalizadas para comenzar el diagn√≥stico</p>
     <p class="text-sm text-gray-500">Seleccione una plantilla arriba para cargar un conjunto completo de pr√°cticas a evaluar</p>
    </div>
   </section><!-- Actions -->
   <section class="mt-8 flex justify-center gap-4"><button id="export-gap-analysis" class="executive-button bg-amber-700 hover:bg-amber-800 text-white px-6 py-3 rounded-md flex items-center gap-2"> <span class="text-lg">üìä</span> Exportar Gap Analysis </button> <button id="clear-gap-analysis" class="executive-button bg-gray-700 hover:bg-gray-800 text-white px-6 py-3 rounded-md flex items-center gap-2"> <span class="text-lg">üóëÔ∏è</span> Limpiar Gap Analysis </button>
   </section>
  </main>
  <script>
        // Configuration and state
        const defaultConfig = {
            organization_name: "Mi Organizaci√≥n",
            target_model: "CMMI Level 3"
        };

        let gapAnalysisEntries = [];
        let isInitialized = false;

        // Gap Analysis Templates - Each template is strategically different
        const gapTemplates = {
            "cmmi-level-2": [
                {
                    practice: "CMMI REQM 1.1: Gestionar los requisitos",
                    current_practice: "Los cambios de requisitos se piden por WhatsApp o correo informal sin seguimiento",
                    status: "no-cumplido",
                    recommended_action: "Dise√±ar e implementar un Formulario de Control de Cambios formal con flujo de aprobaci√≥n",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "CMMI Level 2"
                },
                {
                    practice: "CMMI REQM 1.2: Obtener compromiso con los requisitos",
                    current_practice: "Los stakeholders aprueban requisitos verbalmente en reuniones sin documentaci√≥n",
                    status: "parcial",
                    recommended_action: "Crear matriz de aprobaci√≥n formal con firmas digitales de stakeholders",
                    priority: "alta",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "CMMI Level 2"
                },
                {
                    practice: "CMMI REQM 1.3: Gestionar cambios a los requisitos",
                    current_practice: "No existe proceso formal para evaluar impacto de cambios en cronograma y presupuesto",
                    status: "no-cumplido",
                    recommended_action: "Implementar an√°lisis de impacto autom√°tico con herramienta de gesti√≥n de requisitos",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "CMMI Level 2"
                },
                {
                    practice: "CMMI REQM 1.4: Mantener trazabilidad bidireccional",
                    current_practice: "La trazabilidad se mantiene en hojas Excel desactualizadas y manuales",
                    status: "parcial",
                    recommended_action: "Implementar herramienta de trazabilidad autom√°tica (DOORS, Jira, Azure DevOps)",
                    priority: "media",
                    effort: "alto",
                    impact: "importante",
                    model_type: "CMMI Level 2"
                },
                {
                    practice: "CMMI REQM 1.5: Identificar inconsistencias entre requisitos y productos",
                    current_practice: "Las inconsistencias se detectan en testing tard√≠o, generando retrabajo",
                    status: "no-cumplido",
                    recommended_action: "Establecer revisiones formales de consistencia en cada milestone del proyecto",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "CMMI Level 2"
                },
                {
                    practice: "CMMI PMC 1.1: Monitorear par√°metros de planificaci√≥n del proyecto",
                    current_practice: "El seguimiento se hace en reuniones semanales sin m√©tricas objetivas",
                    status: "parcial",
                    recommended_action: "Implementar dashboard de proyecto con m√©tricas automatizadas (EVM, burndown)",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "CMMI Level 2"
                },
                {
                    practice: "CMMI PMC 1.2: Monitorear compromisos",
                    current_practice: "Los compromisos se registran en actas de reuni√≥n sin seguimiento sistem√°tico",
                    status: "parcial",
                    recommended_action: "Crear registro formal de compromisos con alertas autom√°ticas de vencimiento",
                    priority: "media",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "CMMI Level 2"
                },
                {
                    practice: "CMMI PMC 1.3: Monitorear riesgos del proyecto",
                    current_practice: "Los riesgos se identifican reactivamente cuando ya se materializaron",
                    status: "no-cumplido",
                    recommended_action: "Implementar registro de riesgos proactivo con evaluaci√≥n quincenal",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "CMMI Level 2"
                },
                {
                    practice: "CMMI PMC 1.4: Monitorear gesti√≥n de datos del proyecto",
                    current_practice: "Los datos est√°n dispersos en m√∫ltiples herramientas sin consolidaci√≥n",
                    status: "no-cumplido",
                    recommended_action: "Centralizar datos de proyecto en repositorio √∫nico con acceso controlado",
                    priority: "media",
                    effort: "alto",
                    impact: "importante",
                    model_type: "CMMI Level 2"
                },
                {
                    practice: "CMMI PMC 1.5: Monitorear involucramiento de stakeholders",
                    current_practice: "La participaci√≥n de stakeholders es irregular y no se mide",
                    status: "parcial",
                    recommended_action: "Crear matriz de involucramiento con m√©tricas de participaci√≥n",
                    priority: "baja",
                    effort: "bajo",
                    impact: "menor",
                    model_type: "CMMI Level 2"
                },
                {
                    practice: "CMMI PMC 1.6: Realizar revisiones de progreso",
                    current_practice: "Las revisiones son informales sin criterios objetivos de evaluaci√≥n",
                    status: "parcial",
                    recommended_action: "Establecer gate reviews formales con criterios de entrada y salida",
                    priority: "alta",
                    effort: "medio",
                    impact: "importante",
                    model_type: "CMMI Level 2"
                },
                {
                    practice: "CMMI PMC 1.7: Realizar revisiones de hitos",
                    current_practice: "Los hitos se eval√∫an subjetivamente sin evidencia documentada",
                    status: "no-cumplido",
                    recommended_action: "Definir criterios objetivos de aceptaci√≥n para cada hito con evidencia requerida",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "CMMI Level 2"
                }
            ],
            "cmmi-level-3": [
                {
                    practice: "CMMI OPF 1.1: Establecer necesidades de mejora organizacional",
                    current_practice: "Las mejoras se implementan reactivamente sin an√°lisis sistem√°tico de necesidades",
                    status: "no-cumplido",
                    recommended_action: "Crear proceso formal de identificaci√≥n de oportunidades de mejora con m√©tricas",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI OPD 1.1: Establecer conjunto est√°ndar de procesos organizacionales",
                    current_practice: "Cada proyecto define sus propios procesos sin estandarizaci√≥n organizacional",
                    status: "no-cumplido",
                    recommended_action: "Desarrollar OSSP (Organization's Set of Standard Processes) completo",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI OPD 1.2: Establecer descripciones de modelos de ciclo de vida",
                    current_practice: "Los ciclos de vida var√≠an por proyecto sin modelos organizacionales definidos",
                    status: "parcial",
                    recommended_action: "Definir modelos est√°ndar de ciclo de vida (Waterfall, √Ågil, H√≠brido)",
                    priority: "alta",
                    effort: "medio",
                    impact: "importante",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI OPD 1.3: Establecer criterios de tailoring",
                    current_practice: "La adaptaci√≥n de procesos se hace ad-hoc sin criterios organizacionales",
                    status: "no-cumplido",
                    recommended_action: "Crear gu√≠as de tailoring con criterios objetivos por tipo de proyecto",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI OT 1.1: Establecer necesidades de capacitaci√≥n organizacional",
                    current_practice: "La capacitaci√≥n se planifica reactivamente sin an√°lisis de competencias",
                    status: "parcial",
                    recommended_action: "Implementar matriz de competencias con plan de capacitaci√≥n estrat√©gico",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI RD 1.1: Desarrollar requisitos del cliente",
                    current_practice: "Los requisitos se capturan informalmente sin t√©cnicas de elicitaci√≥n",
                    status: "parcial",
                    recommended_action: "Implementar t√©cnicas formales de elicitaci√≥n (workshops, prototipos, casos de uso)",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI RD 1.2: Desarrollar requisitos del producto",
                    current_practice: "Los requisitos t√©cnicos se derivan informalmente de requisitos de negocio",
                    status: "parcial",
                    recommended_action: "Establecer proceso formal de derivaci√≥n con trazabilidad autom√°tica",
                    priority: "alta",
                    effort: "medio",
                    impact: "importante",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI TS 1.1: Desarrollar dise√±o del producto",
                    current_practice: "El dise√±o se documenta parcialmente sin est√°ndares arquitect√≥nicos",
                    status: "parcial",
                    recommended_action: "Crear est√°ndares de documentaci√≥n arquitect√≥nica con revisiones formales",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI TS 1.2: Establecer paquete t√©cnico de datos",
                    current_practice: "La documentaci√≥n t√©cnica est√° dispersa sin paquete integrado",
                    status: "no-cumplido",
                    recommended_action: "Definir estructura est√°ndar de paquete t√©cnico con templates",
                    priority: "media",
                    effort: "bajo",
                    impact: "menor",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI PI 1.1: Preparar integraci√≥n del producto",
                    current_practice: "La integraci√≥n se planifica durante desarrollo sin estrategia previa",
                    status: "no-cumplido",
                    recommended_action: "Crear estrategia de integraci√≥n temprana con ambiente de CI/CD",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI VER 1.1: Preparar verificaci√≥n",
                    current_practice: "Las pruebas se planifican tard√≠amente sin criterios de verificaci√≥n",
                    status: "parcial",
                    recommended_action: "Implementar estrategia de verificaci√≥n temprana con test-driven development",
                    priority: "alta",
                    effort: "medio",
                    impact: "importante",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI VER 1.2: Realizar revisiones peer",
                    current_practice: "Las revisiones son informales sin criterios objetivos de calidad",
                    status: "parcial",
                    recommended_action: "Establecer proceso formal de peer review con checklists y m√©tricas",
                    priority: "media",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI VAL 1.1: Preparar validaci√≥n",
                    current_practice: "La validaci√≥n con usuario final se hace al final sin preparaci√≥n",
                    status: "no-cumplido",
                    recommended_action: "Implementar validaci√≥n continua con prototipos y feedback temprano",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI VAL 1.2: Validar producto o componente",
                    current_practice: "La validaci√≥n se limita a testing t√©cnico sin validaci√≥n de negocio",
                    status: "parcial",
                    recommended_action: "Crear proceso de validaci√≥n integral incluyendo aceptaci√≥n de usuario",
                    priority: "alta",
                    effort: "medio",
                    impact: "importante",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI IPM 1.1: Establecer proceso definido del proyecto",
                    current_practice: "Los proyectos usan procesos ad-hoc sin tailoring del OSSP",
                    status: "no-cumplido",
                    recommended_action: "Implementar tailoring sistem√°tico del OSSP para cada proyecto",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI IPM 1.2: Usar activos de proceso organizacional",
                    current_practice: "Los activos organizacionales no se reutilizan sistem√°ticamente",
                    status: "parcial",
                    recommended_action: "Crear biblioteca de activos con proceso de reutilizaci√≥n obligatorio",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI IPM 1.3: Integrar planes",
                    current_practice: "Los planes de proyecto no est√°n integrados con planes organizacionales",
                    status: "no-cumplido",
                    recommended_action: "Establecer proceso de integraci√≥n de planes con revisi√≥n organizacional",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "CMMI Level 3"
                },
                {
                    practice: "CMMI IPM 1.4: Gestionar involucramiento de stakeholders",
                    current_practice: "El involucramiento es reactivo sin plan sistem√°tico de engagement",
                    status: "parcial",
                    recommended_action: "Crear plan formal de gesti√≥n de stakeholders con matriz de comunicaci√≥n",
                    priority: "baja",
                    effort: "bajo",
                    impact: "menor",
                    model_type: "CMMI Level 3"
                }
            ],
            "iso-9001": [
                {
                    practice: "ISO 9001 4.1: Comprensi√≥n de la organizaci√≥n y su contexto",
                    current_practice: "No existe an√°lisis formal del contexto organizacional ni factores externos",
                    status: "no-cumplido",
                    recommended_action: "Realizar an√°lisis PESTLE y matriz de stakeholders para definir contexto",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 4.2: Comprensi√≥n de las necesidades y expectativas de las partes interesadas",
                    current_practice: "Las expectativas de clientes se capturan informalmente sin sistematizaci√≥n",
                    status: "parcial",
                    recommended_action: "Crear matriz de partes interesadas con expectativas documentadas",
                    priority: "alta",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 4.3: Determinaci√≥n del alcance del SGC",
                    current_practice: "El alcance del sistema de calidad no est√° claramente definido",
                    status: "no-cumplido",
                    recommended_action: "Definir alcance formal del SGC con exclusiones justificadas",
                    priority: "alta",
                    effort: "bajo",
                    impact: "critico",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 4.4: Sistema de gesti√≥n de la calidad y sus procesos",
                    current_practice: "Los procesos no est√°n mapeados ni documentados sistem√°ticamente",
                    status: "no-cumplido",
                    recommended_action: "Crear mapa de procesos completo con interacciones documentadas",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 5.1: Liderazgo y compromiso",
                    current_practice: "El compromiso de la direcci√≥n con calidad es informal y no visible",
                    status: "parcial",
                    recommended_action: "Establecer pol√≠tica de calidad formal con comunicaci√≥n sistem√°tica",
                    priority: "alta",
                    effort: "bajo",
                    impact: "critico",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 5.2: Pol√≠tica de la calidad",
                    current_practice: "No existe pol√≠tica de calidad formal documentada y comunicada",
                    status: "no-cumplido",
                    recommended_action: "Desarrollar pol√≠tica de calidad alineada con estrategia organizacional",
                    priority: "alta",
                    effort: "bajo",
                    impact: "critico",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 6.1: Acciones para abordar riesgos y oportunidades",
                    current_practice: "La gesti√≥n de riesgos es reactiva sin identificaci√≥n sistem√°tica",
                    status: "no-cumplido",
                    recommended_action: "Implementar proceso formal de gesti√≥n de riesgos y oportunidades",
                    priority: "alta",
                    effort: "medio",
                    impact: "importante",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 6.2: Objetivos de la calidad y planificaci√≥n",
                    current_practice: "Los objetivos de calidad no est√°n definidos ni son medibles",
                    status: "no-cumplido",
                    recommended_action: "Establecer objetivos SMART de calidad con planes de acci√≥n",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 7.1: Recursos",
                    current_practice: "Los recursos para el SGC no est√°n identificados ni asignados",
                    status: "parcial",
                    recommended_action: "Identificar y asignar recursos espec√≠ficos para el SGC",
                    priority: "media",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 7.2: Competencia",
                    current_practice: "Las competencias requeridas no est√°n definidas ni evaluadas",
                    status: "no-cumplido",
                    recommended_action: "Crear matriz de competencias con evaluaci√≥n y plan de desarrollo",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 8.1: Planificaci√≥n y control operacional",
                    current_practice: "Los procesos operacionales no tienen controles sistem√°ticos",
                    status: "parcial",
                    recommended_action: "Implementar controles operacionales con procedimientos documentados",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 8.2: Requisitos para productos y servicios",
                    current_practice: "Los requisitos se gestionan informalmente sin revisi√≥n sistem√°tica",
                    status: "parcial",
                    recommended_action: "Establecer proceso formal de revisi√≥n de requisitos con cliente",
                    priority: "alta",
                    effort: "medio",
                    impact: "importante",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 9.1: Seguimiento, medici√≥n, an√°lisis y evaluaci√≥n",
                    current_practice: "Las m√©tricas de calidad son limitadas y no se analizan sistem√°ticamente",
                    status: "parcial",
                    recommended_action: "Implementar sistema integral de m√©tricas con an√°lisis regular",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 9.2: Auditor√≠a interna",
                    current_practice: "No existen auditor√≠as internas del sistema de calidad",
                    status: "no-cumplido",
                    recommended_action: "Establecer programa de auditor√≠as internas con auditores capacitados",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "ISO 9001:2015"
                },
                {
                    practice: "ISO 9001 10.1: No conformidad y acci√≥n correctiva",
                    current_practice: "Las no conformidades se manejan reactivamente sin an√°lisis de causa ra√≠z",
                    status: "parcial",
                    recommended_action: "Implementar proceso sistem√°tico de no conformidades con an√°lisis de causa",
                    priority: "alta",
                    effort: "medio",
                    impact: "importante",
                    model_type: "ISO 9001:2015"
                }
            ],
            "agile-maturity": [
                {
                    practice: "Scrum Framework: Roles definidos y funcionando",
                    current_practice: "Los roles de Scrum Master y Product Owner no est√°n claramente definidos",
                    status: "parcial",
                    recommended_action: "Capacitar y certificar Scrum Masters y Product Owners dedicados",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Sprint Planning: Planificaci√≥n efectiva de sprints",
                    current_practice: "La planificaci√≥n de sprints es informal sin estimaci√≥n ni compromiso claro",
                    status: "parcial",
                    recommended_action: "Implementar planning poker y definici√≥n de done clara",
                    priority: "alta",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Daily Standups: Sincronizaci√≥n diaria efectiva",
                    current_practice: "Las reuniones diarias son reportes de estado sin colaboraci√≥n",
                    status: "parcial",
                    recommended_action: "Entrenar equipos en standups efectivos enfocados en impedimentos",
                    priority: "media",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Sprint Review: Demostraci√≥n y feedback",
                    current_practice: "Las demos son informales sin participaci√≥n de stakeholders",
                    status: "parcial",
                    recommended_action: "Establecer demos formales con stakeholders y feedback estructurado",
                    priority: "media",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Sprint Retrospective: Mejora continua",
                    current_practice: "Las retrospectivas son irregulares sin seguimiento de acciones",
                    status: "parcial",
                    recommended_action: "Implementar retrospectivas sistem√°ticas con tracking de mejoras",
                    priority: "alta",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Product Backlog: Gesti√≥n efectiva de requisitos",
                    current_practice: "El backlog no est√° priorizado ni refinado regularmente",
                    status: "no-cumplido",
                    recommended_action: "Implementar backlog refinement regular con criterios de priorizaci√≥n",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Definition of Done: Criterios de calidad claros",
                    current_practice: "No existe definici√≥n clara de cu√°ndo una historia est√° completa",
                    status: "no-cumplido",
                    recommended_action: "Crear definition of done espec√≠fica por tipo de trabajo",
                    priority: "alta",
                    effort: "bajo",
                    impact: "critico",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Velocity Tracking: M√©tricas de productividad",
                    current_practice: "No se mide la velocidad ni se usa para planificaci√≥n",
                    status: "no-cumplido",
                    recommended_action: "Implementar tracking de velocity con herramientas √°giles",
                    priority: "media",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Continuous Integration: Integraci√≥n autom√°tica",
                    current_practice: "La integraci√≥n de c√≥digo es manual y genera conflictos frecuentes",
                    status: "no-cumplido",
                    recommended_action: "Implementar CI/CD pipeline con Jenkins o Azure DevOps",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Automated Testing: Pruebas automatizadas",
                    current_practice: "Las pruebas son principalmente manuales y tard√≠as",
                    status: "parcial",
                    recommended_action: "Implementar pir√°mide de testing con unit, integration y E2E tests",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "DevOps Culture: Colaboraci√≥n Dev-Ops",
                    current_practice: "Desarrollo y operaciones trabajan en silos separados",
                    status: "no-cumplido",
                    recommended_action: "Formar equipos cross-funcionales con responsabilidad compartida",
                    priority: "media",
                    effort: "alto",
                    impact: "importante",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Infrastructure as Code: Infraestructura automatizada",
                    current_practice: "La infraestructura se configura manualmente sin versionado",
                    status: "no-cumplido",
                    recommended_action: "Implementar IaC con Terraform o ARM templates",
                    priority: "media",
                    effort: "alto",
                    impact: "importante",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Monitoring & Observability: Visibilidad de producci√≥n",
                    current_practice: "El monitoreo es reactivo sin m√©tricas proactivas",
                    status: "parcial",
                    recommended_action: "Implementar APM con alertas proactivas y dashboards",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "Madurez √Ågil"
                },
                {
                    practice: "Agile Scaling: Coordinaci√≥n entre equipos",
                    current_practice: "M√∫ltiples equipos trabajan sin coordinaci√≥n ni dependencias gestionadas",
                    status: "no-cumplido",
                    recommended_action: "Implementar framework de scaling (SAFe, LeSS, o Nexus)",
                    priority: "baja",
                    effort: "alto",
                    impact: "menor",
                    model_type: "Madurez √Ågil"
                }
            ],
            "security-compliance": [
                {
                    practice: "ISO 27001 A.5.1: Pol√≠ticas de seguridad de la informaci√≥n",
                    current_practice: "No existen pol√≠ticas formales de seguridad documentadas y comunicadas",
                    status: "no-cumplido",
                    recommended_action: "Desarrollar conjunto completo de pol√≠ticas de seguridad con aprobaci√≥n ejecutiva",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "ISO 27001 A.6.1: Organizaci√≥n interna de seguridad",
                    current_practice: "No hay roles y responsabilidades claras para seguridad de informaci√≥n",
                    status: "no-cumplido",
                    recommended_action: "Establecer CISO y comit√© de seguridad con responsabilidades definidas",
                    priority: "alta",
                    effort: "bajo",
                    impact: "critico",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "ISO 27001 A.7.1: Selecci√≥n de personal",
                    current_practice: "No se realizan verificaciones de antecedentes para roles cr√≠ticos",
                    status: "parcial",
                    recommended_action: "Implementar proceso de background checks para posiciones sensibles",
                    priority: "media",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "ISO 27001 A.8.1: Responsabilidad por los activos",
                    current_practice: "No existe inventario completo de activos de informaci√≥n",
                    status: "no-cumplido",
                    recommended_action: "Crear inventario de activos con clasificaci√≥n y propietarios asignados",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "ISO 27001 A.9.1: Requisitos de negocio para control de acceso",
                    current_practice: "Los accesos se otorgan informalmente sin proceso de aprobaci√≥n",
                    status: "no-cumplido",
                    recommended_action: "Implementar proceso formal de gesti√≥n de accesos con aprobaciones",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "ISO 27001 A.10.1: Controles criptogr√°ficos",
                    current_practice: "El cifrado se usa inconsistentemente sin pol√≠tica clara",
                    status: "parcial",
                    recommended_action: "Establecer pol√≠tica de criptograf√≠a con implementaci√≥n sistem√°tica",
                    priority: "alta",
                    effort: "medio",
                    impact: "importante",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "ISO 27001 A.11.1: √Åreas seguras",
                    current_practice: "Las √°reas cr√≠ticas no tienen controles de acceso f√≠sico adecuados",
                    status: "parcial",
                    recommended_action: "Implementar controles de acceso f√≠sico con tarjetas y monitoreo",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "ISO 27001 A.12.1: Procedimientos operacionales seguros",
                    current_practice: "Los procedimientos operacionales no incluyen consideraciones de seguridad",
                    status: "parcial",
                    recommended_action: "Revisar y actualizar procedimientos con controles de seguridad",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "ISO 27001 A.13.1: Gesti√≥n de comunicaciones de red",
                    current_practice: "Las redes no est√°n segmentadas ni monitoreadas adecuadamente",
                    status: "no-cumplido",
                    recommended_action: "Implementar segmentaci√≥n de red con monitoreo de tr√°fico",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "ISO 27001 A.14.1: Requisitos de seguridad en sistemas",
                    current_practice: "Los requisitos de seguridad no se incluyen en desarrollo de sistemas",
                    status: "no-cumplido",
                    recommended_action: "Integrar security by design en SDLC con revisiones obligatorias",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "ISO 27001 A.16.1: Gesti√≥n de incidentes de seguridad",
                    current_practice: "No existe proceso formal para gesti√≥n de incidentes de seguridad",
                    status: "no-cumplido",
                    recommended_action: "Establecer CSIRT con procedimientos de respuesta a incidentes",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "ISO 27001 A.17.1: Continuidad de seguridad de informaci√≥n",
                    current_practice: "Los planes de continuidad no incluyen aspectos de seguridad",
                    status: "parcial",
                    recommended_action: "Integrar seguridad en planes de continuidad y disaster recovery",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "GDPR Art. 25: Protecci√≥n de datos por dise√±o y por defecto",
                    current_practice: "La privacidad no se considera en el dise√±o de sistemas",
                    status: "no-cumplido",
                    recommended_action: "Implementar privacy by design con evaluaciones de impacto (DPIA)",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "GDPR Art. 30: Registro de actividades de tratamiento",
                    current_practice: "No existe registro formal de procesamiento de datos personales",
                    status: "no-cumplido",
                    recommended_action: "Crear y mantener registro completo de actividades de tratamiento",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "GDPR Art. 32: Seguridad del tratamiento",
                    current_practice: "Los controles t√©cnicos para protecci√≥n de datos son insuficientes",
                    status: "parcial",
                    recommended_action: "Implementar controles t√©cnicos espec√≠ficos para protecci√≥n de datos personales",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Seguridad y Compliance"
                },
                {
                    practice: "GDPR Art. 33-34: Notificaci√≥n de violaciones",
                    current_practice: "No existe proceso para detectar y notificar violaciones de datos",
                    status: "no-cumplido",
                    recommended_action: "Establecer proceso de detecci√≥n y notificaci√≥n de data breaches",
                    priority: "alta",
                    effort: "medio",
                    impact: "critico",
                    model_type: "Seguridad y Compliance"
                }
            ],
            "digital-maturity": [
                {
                    practice: "Cloud Strategy: Estrategia de migraci√≥n a la nube",
                    current_practice: "La infraestructura es principalmente on-premise sin estrategia cloud",
                    status: "no-cumplido",
                    recommended_action: "Desarrollar estrategia cloud-first con roadmap de migraci√≥n",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Cloud Architecture: Arquitectura cloud-native",
                    current_practice: "Las aplicaciones no est√°n dise√±adas para aprovechar capacidades cloud",
                    status: "no-cumplido",
                    recommended_action: "Redise√±ar aplicaciones con patrones cloud-native (microservicios, containers)",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "DevOps Maturity: Pr√°cticas DevOps avanzadas",
                    current_practice: "CI/CD b√°sico implementado pero sin pr√°cticas avanzadas",
                    status: "parcial",
                    recommended_action: "Implementar GitOps, infrastructure as code y deployment automation",
                    priority: "alta",
                    effort: "alto",
                    impact: "importante",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Data Analytics: Capacidades de an√°lisis de datos",
                    current_practice: "Los datos se analizan manualmente sin herramientas avanzadas",
                    status: "parcial",
                    recommended_action: "Implementar plataforma de analytics con self-service BI",
                    priority: "media",
                    effort: "alto",
                    impact: "importante",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Machine Learning: Capacidades de ML/AI",
                    current_practice: "No se utilizan t√©cnicas de machine learning ni AI",
                    status: "no-cumplido",
                    recommended_action: "Desarrollar capacidades de ML con casos de uso espec√≠ficos",
                    priority: "media",
                    effort: "alto",
                    impact: "importante",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "API Management: Gesti√≥n de APIs empresariales",
                    current_practice: "Las APIs se desarrollan sin governance ni gesti√≥n centralizada",
                    status: "parcial",
                    recommended_action: "Implementar API gateway con governance y monetizaci√≥n",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Digital Security: Seguridad en entornos digitales",
                    current_practice: "La seguridad no est√° adaptada a arquitecturas cloud y m√≥viles",
                    status: "parcial",
                    recommended_action: "Implementar zero-trust security con identity management avanzado",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Mobile-First: Estrategia mobile-first",
                    current_practice: "Las aplicaciones no est√°n optimizadas para dispositivos m√≥viles",
                    status: "parcial",
                    recommended_action: "Adoptar estrategia mobile-first con PWAs y apps nativas",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "IoT Integration: Integraci√≥n de Internet de las Cosas",
                    current_practice: "No se aprovechan oportunidades de IoT para optimizaci√≥n",
                    status: "no-cumplido",
                    recommended_action: "Identificar casos de uso IoT con implementaci√≥n piloto",
                    priority: "baja",
                    effort: "alto",
                    impact: "menor",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Blockchain Readiness: Preparaci√≥n para blockchain",
                    current_practice: "No se han evaluado oportunidades de blockchain",
                    status: "no-cumplido",
                    recommended_action: "Evaluar casos de uso blockchain para trazabilidad y smart contracts",
                    priority: "baja",
                    effort: "medio",
                    impact: "menor",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Digital Workforce: Automatizaci√≥n y RPA",
                    current_practice: "Los procesos manuales no est√°n identificados para automatizaci√≥n",
                    status: "parcial",
                    recommended_action: "Implementar RPA para procesos repetitivos con ROI claro",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Customer Experience: Experiencia digital del cliente",
                    current_practice: "La experiencia del cliente no est√° optimizada digitalmente",
                    status: "parcial",
                    recommended_action: "Implementar customer journey mapping con touchpoints digitales",
                    priority: "alta",
                    effort: "medio",
                    impact: "importante",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Digital Metrics: M√©tricas de transformaci√≥n digital",
                    current_practice: "No se miden KPIs espec√≠ficos de madurez digital",
                    status: "no-cumplido",
                    recommended_action: "Establecer dashboard de m√©tricas de transformaci√≥n digital",
                    priority: "media",
                    effort: "bajo",
                    impact: "importante",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Innovation Culture: Cultura de innovaci√≥n digital",
                    current_practice: "La organizaci√≥n es resistente a adopci√≥n de nuevas tecnolog√≠as",
                    status: "parcial",
                    recommended_action: "Establecer programa de innovation labs con tiempo dedicado",
                    priority: "media",
                    effort: "medio",
                    impact: "importante",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Digital Skills: Competencias digitales del personal",
                    current_practice: "El personal carece de competencias digitales avanzadas",
                    status: "parcial",
                    recommended_action: "Implementar programa de upskilling digital con certificaciones",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Agile at Scale: Agilidad organizacional",
                    current_practice: "La agilidad se limita a equipos de desarrollo sin escalamiento",
                    status: "parcial",
                    recommended_action: "Escalar agilidad a nivel organizacional con business agility",
                    priority: "media",
                    effort: "alto",
                    impact: "importante",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Data Governance: Gobierno de datos empresariales",
                    current_practice: "Los datos no tienen governance formal ni calidad asegurada",
                    status: "no-cumplido",
                    recommended_action: "Implementar data governance con data stewards y calidad de datos",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Digital Ecosystem: Ecosistema de partners digitales",
                    current_practice: "La integraci√≥n con partners es manual sin APIs",
                    status: "parcial",
                    recommended_action: "Crear ecosistema digital con marketplace de APIs",
                    priority: "baja",
                    effort: "alto",
                    impact: "menor",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Sustainability Tech: Tecnolog√≠a sostenible",
                    current_practice: "No se consideran aspectos de sostenibilidad en decisiones tecnol√≥gicas",
                    status: "no-cumplido",
                    recommended_action: "Integrar criterios de sostenibilidad en arquitectura y operaciones",
                    priority: "baja",
                    effort: "medio",
                    impact: "menor",
                    model_type: "Madurez Digital"
                },
                {
                    practice: "Digital Resilience: Resiliencia digital",
                    current_practice: "Los sistemas no est√°n dise√±ados para alta disponibilidad y recuperaci√≥n",
                    status: "parcial",
                    recommended_action: "Implementar arquitectura resiliente con chaos engineering",
                    priority: "alta",
                    effort: "alto",
                    impact: "critico",
                    model_type: "Madurez Digital"
                }
            ]
        };

        // Data handler for SDK
        const dataHandler = {
            onDataChanged(data) {
                gapAnalysisEntries = data.sort((a, b) => {
                    const priorityOrder = { 'alta': 0, 'media': 1, 'baja': 2 };
                    const statusOrder = { 'no-cumplido': 0, 'parcial': 1, 'cumplido': 2 };
                    
                    if (priorityOrder[a.priority] !== priorityOrder[b.priority]) {
                        return priorityOrder[a.priority] - priorityOrder[b.priority];
                    }
                    return statusOrder[a.status] - statusOrder[b.status];
                });
                
                renderGapAnalysis();
            }
        };

        // Element SDK configuration
        const elementConfig = {
            defaultConfig,
            onConfigChange: async (config) => {
                document.getElementById('organization-display').textContent = config.organization_name || defaultConfig.organization_name;
                document.getElementById('target-model-display').textContent = config.target_model || defaultConfig.target_model;
            },
            mapToCapabilities: (config) => ({
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            }),
            mapToEditPanelValues: (config) => new Map([
                ["organization_name", config.organization_name || defaultConfig.organization_name],
                ["target_model", config.target_model || defaultConfig.target_model]
            ])
        };

        // Initialize SDKs
        async function initializeApp() {
            try {
                if (window.elementSdk) {
                    await window.elementSdk.init(elementConfig);
                }
                
                if (window.dataSdk) {
                    const result = await window.dataSdk.init(dataHandler);
                    if (!result.isOk) {
                        console.error("Failed to initialize data SDK");
                    }
                }
                
                isInitialized = true;
                setupEventListeners();
            } catch (error) {
                console.error("Initialization error:", error);
                setupEventListeners();
            }
        }

        // Setup event listeners
        function setupEventListeners() {
            // Template cards
            document.querySelectorAll('[data-template]').forEach(card => {
                card.addEventListener('click', handleTemplateClick);
            });

            // Gap form
            document.getElementById('gap-form').addEventListener('submit', handleGapFormSubmit);

            // Action buttons
            document.getElementById('export-gap-analysis').addEventListener('click', handleExportGapAnalysis);
            document.getElementById('clear-gap-analysis').addEventListener('click', handleClearGapAnalysis);

            // Inline editing for organization
            document.getElementById('organization-display').addEventListener('click', () => startInlineEdit('organization'));
            document.getElementById('organization-save').addEventListener('click', () => saveInlineEdit('organization'));
            document.getElementById('organization-cancel').addEventListener('click', () => cancelInlineEdit('organization'));
            document.getElementById('organization-edit').addEventListener('keydown', (e) => {
                if (e.key === 'Enter') saveInlineEdit('organization');
                if (e.key === 'Escape') cancelInlineEdit('organization');
            });

            // Inline editing for target model
            document.getElementById('target-model-display').addEventListener('click', () => startInlineEdit('target-model'));
            document.getElementById('target-model-save').addEventListener('click', () => saveInlineEdit('target-model'));
            document.getElementById('target-model-cancel').addEventListener('click', () => cancelInlineEdit('target-model'));
            document.getElementById('target-model-edit').addEventListener('keydown', (e) => {
                if (e.key === 'Enter') saveInlineEdit('target-model');
                if (e.key === 'Escape') cancelInlineEdit('target-model');
            });
        }

        // Handle template clicks
        function handleTemplateClick(event) {
            const templateType = event.currentTarget.dataset.template;
            const templateGaps = gapTemplates[templateType];
            
            if (templateGaps) {
                // Show confirmation
                const confirmed = confirm(`¬øCargar plantilla "${templateType}" con ${templateGaps.length} entradas? Esto agregar√° todas las pr√°cticas del modelo seleccionado.`);
                
                if (confirmed) {
                    // Load all gaps from template
                    templateGaps.forEach((template, index) => {
                        setTimeout(() => {
                            loadGapTemplate(template);
                        }, index * 100); // Small delay between gaps
                    });
                    
                    showToast(`Plantilla "${templateType}" cargada con ${templateGaps.length} entradas`, "success");
                    
                    // Scroll to results
                    setTimeout(() => {
                        document.getElementById('gap-analysis-container').scrollIntoView({ behavior: 'smooth' });
                    }, 1000);
                }
            }
        }

        // Load gap template
        async function loadGapTemplate(template) {
            if (gapAnalysisEntries.length >= 999) {
                showToast("L√≠mite m√°ximo de 999 entradas alcanzado", "error");
                return;
            }
            
            const gapData = {
                practice: template.practice,
                current_practice: template.current_practice,
                status: template.status,
                recommended_action: template.recommended_action,
                priority: template.priority,
                effort: template.effort,
                impact: template.impact,
                model_type: template.model_type,
                created_at: new Date().toISOString()
            };
            
            if (window.dataSdk) {
                const result = await window.dataSdk.create(gapData);
                if (!result.isOk) {
                    console.error("Error creating gap entry:", result.error);
                }
            } else {
                gapAnalysisEntries.push({ ...gapData, __backendId: `gap-${Date.now()}-${Math.random()}` });
                renderGapAnalysis();
            }
        }

        // Handle gap form submission
        async function handleGapFormSubmit(event) {
            event.preventDefault();
            
            if (gapAnalysisEntries.length >= 999) {
                showToast("L√≠mite m√°ximo de 999 entradas alcanzado", "error");
                return;
            }
            
            const gapData = {
                practice: document.getElementById('gap-practice').value,
                current_practice: document.getElementById('gap-current-practice').value,
                status: document.getElementById('gap-status').value,
                recommended_action: document.getElementById('gap-recommended-action').value,
                priority: document.getElementById('gap-priority').value,
                effort: document.getElementById('gap-effort').value,
                impact: document.getElementById('gap-impact').value,
                model_type: "Personalizado",
                created_at: new Date().toISOString()
            };
            
            const createButton = document.getElementById('create-gap-btn');
            const loading = document.getElementById('gap-loading');
            
            createButton.disabled = true;
            loading.classList.remove('hidden');
            
            try {
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(gapData);
                    if (result.isOk) {
                        showToast("Entrada de Gap Analysis creada exitosamente", "success");
                        document.getElementById('gap-form').reset();
                        document.getElementById('gap-priority').value = 'media';
                        document.getElementById('gap-effort').value = 'medio';
                        document.getElementById('gap-impact').value = 'importante';
                    } else {
                        showToast("Error al crear la entrada de gap analysis", "error");
                    }
                } else {
                    gapAnalysisEntries.push({ ...gapData, __backendId: `gap-${Date.now()}-${Math.random()}` });
                    renderGapAnalysis();
                    showToast("Entrada de Gap Analysis creada exitosamente", "success");
                    document.getElementById('gap-form').reset();
                }
            } catch (error) {
                console.error("Error creating gap entry:", error);
                showToast("Error al crear la entrada de gap analysis", "error");
            } finally {
                createButton.disabled = false;
                loading.classList.add('hidden');
            }
        }

        // Render Gap Analysis
        function renderGapAnalysis() {
            const tableBody = document.getElementById('gap-analysis-table');
            const noMessage = document.getElementById('no-gaps-message');
            
            if (gapAnalysisEntries.length === 0) {
                tableBody.innerHTML = '';
                noMessage.style.display = 'block';
                updateGapSummary();
                return;
            }
            
            noMessage.style.display = 'none';
            
            tableBody.innerHTML = gapAnalysisEntries.map(gap => `
                <tr class="border-b border-amber-100 hover:bg-amber-50">
                    <td class="p-4">
                        <div class="font-medium text-amber-800 mb-1">${gap.practice}</div>
                        <div class="text-xs text-gray-500">${gap.model_type}</div>
                    </td>
                    <td class="p-4">
                        <span class="status-badge gap-status-${gap.status}">
                            ${gap.status === 'cumplido' ? '‚úÖ Cumplido' : 
                              gap.status === 'parcial' ? '‚ö†Ô∏è Parcial' : '‚ùå No Cumplido'}
                        </span>
                    </td>
                    <td class="p-4">
                        <div class="text-sm text-gray-700 max-w-xs">${gap.current_practice}</div>
                    </td>
                    <td class="p-4">
                        <div class="text-sm text-gray-700 max-w-xs">${gap.recommended_action}</div>
                    </td>
                    <td class="p-4">
                        <span class="status-badge priority-${gap.priority}">
                            ${gap.priority === 'alta' ? 'üî¥ Alta' : 
                              gap.priority === 'media' ? 'üü° Media' : 'üü¢ Baja'}
                        </span>
                    </td>
                    <td class="p-4 text-center">
                        <button class="delete-gap text-gray-600 hover:text-gray-800 hover:bg-gray-50 p-2 rounded-md transition-colors" data-gap-id="${gap.__backendId}">
                            üóëÔ∏è
                        </button>
                    </td>
                </tr>
            `).join('');
            
            // Add event listeners
            tableBody.querySelectorAll('.delete-gap').forEach(button => {
                button.addEventListener('click', handleDeleteGap);
            });
            
            updateGapSummary();
        }

        // Update Gap Summary
        function updateGapSummary() {
            const totalGaps = gapAnalysisEntries.length;
            const compliantGaps = gapAnalysisEntries.filter(g => g.status === 'cumplido').length;
            const partialGaps = gapAnalysisEntries.filter(g => g.status === 'parcial').length;
            const nonCompliantGaps = gapAnalysisEntries.filter(g => g.status === 'no-cumplido').length;
            
            document.getElementById('total-gaps').textContent = totalGaps;
            document.getElementById('compliant-gaps').textContent = compliantGaps;
            document.getElementById('partial-gaps').textContent = partialGaps;
            document.getElementById('non-compliant-gaps').textContent = nonCompliantGaps;
            
            // Update percentages
            const compliantPercentage = totalGaps > 0 ? Math.round((compliantGaps / totalGaps) * 100) : 0;
            const partialPercentage = totalGaps > 0 ? Math.round((partialGaps / totalGaps) * 100) : 0;
            const nonCompliantPercentage = totalGaps > 0 ? Math.round((nonCompliantGaps / totalGaps) * 100) : 0;
            
            document.getElementById('compliant-percentage').textContent = `${compliantPercentage}% del total`;
            document.getElementById('partial-percentage').textContent = `${partialPercentage}% del total`;
            document.getElementById('non-compliant-percentage').textContent = `${nonCompliantPercentage}% del total`;
        }

        // Handle delete gap
        async function handleDeleteGap(event) {
            const gapId = event.currentTarget.dataset.gapId;
            const gap = gapAnalysisEntries.find(g => g.__backendId === gapId);
            
            if (gap) {
                const confirmed = confirm(`¬øEliminar la entrada "${gap.practice}"?`);
                
                if (confirmed) {
                    if (window.dataSdk) {
                        const result = await window.dataSdk.delete(gap);
                        if (result.isOk) {
                            showToast("Entrada eliminada exitosamente", "success");
                        } else {
                            showToast("Error al eliminar la entrada", "error");
                        }
                    } else {
                        gapAnalysisEntries = gapAnalysisEntries.filter(g => g.__backendId !== gapId);
                        renderGapAnalysis();
                        showToast("Entrada eliminada exitosamente", "success");
                    }
                }
            }
        }

        // Handle export gap analysis
        function handleExportGapAnalysis() {
            if (gapAnalysisEntries.length === 0) {
                showToast("No hay datos para exportar", "error");
                return;
            }
            
            const csvContent = generateGapAnalysisCSV();
            downloadCSV(csvContent, 'gap-analysis.csv');
            showToast("Gap Analysis exportado exitosamente", "success");
        }

        // Generate CSV content
        function generateGapAnalysisCSV() {
            const headers = [
                'Pr√°ctica/Requisito',
                'Modelo',
                'Estado',
                'Pr√°ctica Actual',
                'Acci√≥n Recomendada',
                'Prioridad',
                'Esfuerzo',
                'Impacto',
                'Fecha Creaci√≥n'
            ];
            
            const rows = gapAnalysisEntries.map(gap => [
                gap.practice,
                gap.model_type,
                gap.status,
                gap.current_practice,
                gap.recommended_action,
                gap.priority,
                gap.effort,
                gap.impact,
                new Date(gap.created_at).toLocaleDateString()
            ]);
            
            return [headers, ...rows]
                .map(row => row.map(cell => `"${cell.replace(/"/g, '""')}"`).join(','))
                .join('\n');
        }

        // Download CSV
        function downloadCSV(content, filename) {
            const blob = new Blob([content], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', filename);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Handle clear gap analysis
        async function handleClearGapAnalysis() {
            if (gapAnalysisEntries.length === 0) {
                showToast("No hay datos para limpiar", "error");
                return;
            }
            
            const confirmed = confirm(`¬øEliminar todas las ${gapAnalysisEntries.length} entradas del Gap Analysis? Esta acci√≥n no se puede deshacer.`);
            
            if (confirmed) {
                if (window.dataSdk) {
                    // Delete all entries
                    for (const gap of gapAnalysisEntries) {
                        await window.dataSdk.delete(gap);
                    }
                    showToast("Gap Analysis limpiado exitosamente", "success");
                } else {
                    gapAnalysisEntries = [];
                    renderGapAnalysis();
                    showToast("Gap Analysis limpiado exitosamente", "success");
                }
            }
        }

        // Inline editing functions
        function startInlineEdit(field) {
            const display = document.getElementById(`${field}-display`);
            const input = document.getElementById(`${field}-edit`);
            const saveBtn = document.getElementById(`${field}-save`);
            const cancelBtn = document.getElementById(`${field}-cancel`);
            
            // Set input value to current display value
            input.value = display.textContent;
            
            // Hide display, show input and buttons
            display.classList.add('hidden');
            input.classList.remove('hidden');
            saveBtn.classList.remove('hidden');
            cancelBtn.classList.remove('hidden');
            
            // Focus input and select text
            input.focus();
            input.select();
        }

        async function saveInlineEdit(field) {
            const display = document.getElementById(`${field}-display`);
            const input = document.getElementById(`${field}-edit`);
            const saveBtn = document.getElementById(`${field}-save`);
            const cancelBtn = document.getElementById(`${field}-cancel`);
            
            const newValue = input.value.trim();
            
            if (newValue === '') {
                showToast("El valor no puede estar vac√≠o", "error");
                return;
            }
            
            // Update config
            const configKey = field === 'organization' ? 'organization_name' : 'target_model';
            const updateConfig = { [configKey]: newValue };
            
            try {
                if (window.elementSdk) {
                    await window.elementSdk.setConfig(updateConfig);
                }
                
                // Update display
                display.textContent = newValue;
                
                showToast(`${field === 'organization' ? 'Organizaci√≥n' : 'Modelo objetivo'} actualizado exitosamente`, "success");
            } catch (error) {
                console.error("Error updating config:", error);
                showToast("Error al actualizar la configuraci√≥n", "error");
            }
            
            // Hide input and buttons, show display
            cancelInlineEdit(field);
        }

        function cancelInlineEdit(field) {
            const display = document.getElementById(`${field}-display`);
            const input = document.getElementById(`${field}-edit`);
            const saveBtn = document.getElementById(`${field}-save`);
            const cancelBtn = document.getElementById(`${field}-cancel`);
            
            // Hide input and buttons, show display
            display.classList.remove('hidden');
            input.classList.add('hidden');
            saveBtn.classList.add('hidden');
            cancelBtn.classList.add('hidden');
        }

        // Show toast message
        function showToast(message, type = "info") {
            const toast = document.createElement('div');
            toast.className = `fixed top-4 right-4 px-6 py-3 rounded-lg text-white font-medium z-50 ${
                type === 'success' ? 'bg-green-600' : 
                type === 'error' ? 'bg-red-600' : 'bg-blue-600'
            }`;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99656f2283d508a6',t:'MTc2MTc2OTg2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
