<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/layout.css" />
    <title>Sesión 4: Métricas, Medidas e Indicadores</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: #333;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        text-align: center;
        background: white;
        border-radius: 20px;
        padding: 40px;
        margin-bottom: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .quote {
        font-size: 2.2em;
        font-weight: bold;
        color: #4a5568;
        margin-bottom: 15px;
        font-style: italic;
      }

      .subtitle {
        font-size: 1.3em;
        color: #718096;
        margin-bottom: 20px;
      }

      .source {
        font-size: 1em;
        color: #a0aec0;
        font-style: italic;
      }

      .engagement-section {
        background: #fff3cd;
        border-left: 5px solid #ffc107;
        padding: 20px;
        margin: 30px 0;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .engagement-title {
        font-size: 1.4em;
        font-weight: bold;
        color: #856404;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
      }

      .engagement-title::before {
        content: "💡";
        margin-right: 10px;
        font-size: 1.2em;
      }

      .pyramid-container {
        background: white;
        border-radius: 20px;
        padding: 40px;
        margin: 30px 0;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .pyramid-title {
        text-align: center;
        font-size: 2em;
        font-weight: bold;
        color: #2d3748;
        margin-bottom: 40px;
      }

      .pyramid {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }

      .level {
        width: 100%;
        max-width: 800px;
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .level::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transition: left 0.5s;
      }

      .level:hover::before {
        left: 100%;
      }

      .level:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
      }

      .indicator-level {
        background: linear-gradient(135deg, #ff6b6b, #ee5a52);
        color: white;
        width: 60%;
      }

      .metric-level {
        background: linear-gradient(135deg, #4ecdc4, #44a08d);
        color: white;
        width: 75%;
      }

      .measure-level {
        background: linear-gradient(135deg, #45b7d1, #96c93d);
        color: white;
        width: 90%;
      }

      .level-title {
        font-size: 1.8em;
        font-weight: bold;
        margin-bottom: 15px;
      }

      .level-definition {
        font-size: 1.1em;
        margin-bottom: 20px;
        opacity: 0.9;
      }

      .examples {
        display: none;
        margin-top: 20px;
      }

      .examples.active {
        display: block;
        animation: fadeIn 0.5s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .example-item {
        background: rgba(255, 255, 255, 0.2);
        padding: 15px;
        margin: 10px 0;
        border-radius: 10px;
        text-align: left;
        border-left: 4px solid rgba(255, 255, 255, 0.5);
      }

      .example-title {
        font-weight: bold;
        margin-bottom: 8px;
      }

      .interactive-section {
        background: white;
        border-radius: 20px;
        padding: 30px;
        margin: 30px 0;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .discussion-prompt {
        background: #e6f3ff;
        border-left: 5px solid #0066cc;
        padding: 25px;
        border-radius: 10px;
        margin: 20px 0;
      }

      .discussion-title {
        font-size: 1.3em;
        font-weight: bold;
        color: #0066cc;
        margin-bottom: 15px;
      }

      .scenario-button {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-size: 1.1em;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 10px;
      }

      .scenario-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      }

      .scenario-result {
        display: none;
        margin-top: 20px;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 10px;
        border-left: 4px solid #28a745;
      }

      .scenario-result.active {
        display: block;
        animation: slideIn 0.5s ease;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* Slide Navigation */
      .slide-navigation {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .slide-nav-button {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: bold;
        font-size: 0.9em;
      }

      .slide-nav-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      }

      .slide-nav-button.active {
        background: linear-gradient(135deg, #48bb78, #38a169);
        box-shadow: 0 5px 15px rgba(72, 187, 120, 0.4);
      }

      .slide {
        animation: slideIn 0.5s ease;
      }

      /* GQM Styles */
      .gqm-flow {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
        margin: 30px 0;
      }

      .gqm-level {
        display: flex;
        align-items: center;
        background: white;
        border-radius: 15px;
        padding: 25px;
        width: 100%;
        max-width: 800px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        border-left: 5px solid;
      }

      .goal-level {
        border-left-color: #ff6b6b;
      }

      .question-level {
        border-left-color: #4ecdc4;
      }

      .metric-level-gqm {
        border-left-color: #45b7d1;
      }

      .gqm-level:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }

      .gqm-number {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5em;
        font-weight: bold;
        margin-right: 20px;
        flex-shrink: 0;
      }

      .gqm-content {
        flex: 1;
      }

      .gqm-title {
        font-size: 1.4em;
        font-weight: bold;
        color: #2d3748;
        margin-bottom: 10px;
      }

      .gqm-definition {
        color: #4a5568;
        margin-bottom: 15px;
        line-height: 1.5;
      }

      .gqm-example {
        display: none;
        margin-top: 15px;
      }

      .gqm-example.active {
        display: block;
        animation: fadeIn 0.5s ease;
      }

      .example-box {
        background: #f7fafc;
        padding: 15px;
        border-radius: 10px;
        border-left: 4px solid #4299e1;
      }

      .gqm-arrow {
        font-size: 2em;
        color: #667eea;
        margin: 10px 0;
      }

      .conclusion-box {
        background: linear-gradient(135deg, #48bb78, #38a169);
        color: white;
        padding: 25px;
        border-radius: 15px;
        margin-top: 30px;
        text-align: center;
      }

      .conclusion-title {
        font-size: 1.3em;
        font-weight: bold;
        margin-bottom: 15px;
      }

      /* Activity Styles */
      .activity-context,
      .activity-task,
      .example-guide,
      .activity-requirements,
      .time-management {
        margin: 25px 0;
      }

      .context-box,
      .task-description,
      .guide-content,
      .time-breakdown {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      }

      .context-title,
      .task-title,
      .guide-title,
      .req-title,
      .time-title {
        font-size: 1.3em;
        font-weight: bold;
        color: #2d3748;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
      }

      .question-box {
        background: #e6f3ff;
        padding: 20px;
        border-radius: 10px;
        border-left: 5px solid #0066cc;
        margin: 15px 0;
        font-size: 1.1em;
      }

      .guide-item {
        background: #f8f9fa;
        padding: 12px;
        margin: 10px 0;
        border-radius: 8px;
        border-left: 3px solid #667eea;
      }

      .time-item {
        display: flex;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #e2e8f0;
      }

      .time-item:last-child {
        border-bottom: none;
      }

      .time-duration {
        background: #667eea;
        color: white;
        padding: 5px 12px;
        border-radius: 15px;
        font-weight: bold;
        margin-right: 15px;
        min-width: 60px;
        text-align: center;
      }

      .time-activity {
        flex: 1;
        color: #4a5568;
      }

      .activity-timer {
        text-align: center;
        margin: 30px 0;
      }

      .timer-button {
        background: linear-gradient(135deg, #48bb78, #38a169);
        color: white;
        border: none;
        padding: 15px 25px;
        border-radius: 25px;
        font-size: 1.1em;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 10px;
      }

      .timer-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(72, 187, 120, 0.3);
      }

      .timer-display {
        font-size: 2em;
        font-weight: bold;
        color: #667eea;
        margin-top: 20px;
        min-height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .timer-display.warning {
        color: #f56565;
        animation: pulse 1s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      @media (max-width: 768px) {
        .quote {
          font-size: 1.6em;
        }

        .level {
          width: 95% !important;
        }

        .container {
          padding: 10px;
        }

        .gqm-level {
          flex-direction: column;
          text-align: center;
        }

        .gqm-number {
          margin-right: 0;
          margin-bottom: 15px;
        }

        .slide-navigation {
          gap: 10px;
        }

        .slide-nav-button {
          padding: 10px 15px;
          font-size: 0.8em;
        }
      }

      .hidden {
        display: none !important;
      }

      .session-toolbar {
        margin-bottom: 24px;
      }

      .session-toolbar-card {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1.5rem;
        padding: 1rem 1.5rem;
        border-radius: 18px;
        background: rgba(255, 255, 255, 0.92);
        border: 1px solid rgba(255, 255, 255, 0.35);
        box-shadow: 0 20px 40px rgba(67, 56, 202, 0.15);
        backdrop-filter: blur(14px) saturate(120%);
      }

      .session-toolbar-info {
        display: flex;
        align-items: center;
        gap: 1rem;
        color: #1a202c;
      }

      .session-toolbar-badge {
        width: 44px;
        height: 44px;
        border-radius: 14px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1rem;
        color: #fff;
        box-shadow: 0 12px 25px rgba(118, 75, 162, 0.35);
      }

      .session-toolbar-kicker {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #5a67d8;
        font-weight: 600;
        margin-bottom: 0.2rem;
      }

      .session-toolbar-title {
        font-size: 1.4rem;
        font-weight: 700;
        color: #1a202c;
        margin: 0;
      }

      .slide-toolbar {
        margin-top: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem;
        border-radius: 9999px;
        background: rgba(255, 255, 255, 0.35);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.8),
          0 10px 25px rgba(102, 126, 234, 0.2);
        overflow-x: auto;
        scroll-snap-type: x mandatory;
      }

      .slide-toolbar::-webkit-scrollbar {
        display: none;
      }

      .slide-tab {
        position: relative;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.45rem 1.1rem;
        border-radius: 9999px;
        font-weight: 600;
        font-size: 0.85rem;
        color: #3730a3;
        background: rgba(255, 255, 255, 0.9);
        border: 1px solid rgba(99, 102, 241, 0.2);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.9),
          0 6px 16px rgba(79, 70, 229, 0.15);
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease,
          background 0.2s ease, color 0.2s ease;
        white-space: nowrap;
        scroll-snap-align: center;
      }

      .slide-tab:hover {
        transform: translateY(-1px);
        box-shadow: 0 12px 24px rgba(79, 70, 229, 0.25);
        background: rgba(255, 255, 255, 1);
      }

      .slide-tab:focus-visible {
        outline: 2px solid rgba(99, 102, 241, 0.6);
        outline-offset: 3px;
      }

      .slide-tab-active {
        color: #fff;
        background: linear-gradient(135deg, #4f46e5, #7c3aed);
        border-color: transparent;
        box-shadow: 0 16px 32px rgba(79, 70, 229, 0.35);
      }

      .slide-tab-active::after {
        content: "";
        position: absolute;
        left: 20%;
        right: 20%;
        bottom: -6px;
        height: 4px;
        border-radius: 9999px;
        background: rgba(255, 255, 255, 0.8);
      }

      @media (max-width: 768px) {
        .session-toolbar-card {
          flex-direction: column;
          align-items: flex-start;
        }

        .slide-toolbar {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>

    <main class="container" role="main">
      <header class="session-toolbar" aria-label="Navegación de la sesión 4">
        <div class="session-toolbar-card">
          <div class="session-toolbar-info">
            <div class="session-toolbar-badge">4</div>
            <div>
              <p class="session-toolbar-kicker">Sesión 4</p>
              <h1 class="session-toolbar-title">Métricas, Medidas e Indicadores</h1>
            </div>
          </div>
          <div
            class="session-status-control"
            data-role="session-status"
            role="group"
            aria-label="Estado de la sesión"
          >
            <span class="session-status-label" id="session-status-label-sesion4"
              >Estado de la sesión</span
            >
            <button
              type="button"
              class="qs-session-status-btn"
              data-role="session-status-toggle"
              aria-describedby="session-status-label-sesion4"
              data-state="not-started"
              aria-label="Estado de la sesión: No realizada. Activa para cambiar a En curso."
              title="Estado actual: No realizada. Haz clic para marcar como En curso."
            >
              <span class="qs-session-status-dot" aria-hidden="true"></span>
              <span class="qs-session-status-text">No realizada</span>
            </button>
          </div>
        </div>
      </header>
      <!-- Slide 1: Title -->
      <div id="slide1" class="slide">
        <div class="header">
          <div class="quote">"Lo que no se mide, no se puede mejorar."</div>
          <div style="font-size: 1.1em; color: #718096; margin-bottom: 20px">
            - Atribuido a Peter Drucker
          </div>
          <div class="subtitle">
            De los datos crudos a las decisiones inteligentes en Ingeniería de
            Software
          </div>
          <div class="source">
            Fuente Principal: "Software Quality Engineering" - Jeff Tian
          </div>
        </div>

        <!-- Engagement Section -->
        <div class="engagement-section">
          <div class="engagement-title">Pregunta de Enganche</div>
          <p>
            <strong
              >Imaginen que son los gerentes de proyecto de Spotify. ¿Cómo
              sabrían si la última actualización fue un éxito?</strong
            >
          </p>
          <br />
          <div
            style="
              display: flex;
              gap: 15px;
              flex-wrap: wrap;
              justify-content: center;
            "
          >
            <button class="scenario-button" onclick="showScenario('feeling')">
              🤔 "Se siente más rápida"
            </button>
            <button class="scenario-button" onclick="showScenario('likes')">
              👍 "A la gente le gusta"
            </button>
            <button class="scenario-button" onclick="showScenario('data')">
              📊 "Necesitamos datos"
            </button>
          </div>

          <div id="scenario-feeling" class="scenario-result">
            <strong>❌ Opinión Subjetiva:</strong> "Se siente más rápida" es una
            percepción personal. En ingeniería necesitamos datos objetivos y
            medibles.
          </div>

          <div id="scenario-likes" class="scenario-result">
            <strong>❌ Opinión Subjetiva:</strong> "A la gente le gusta" es una
            impresión general. ¿Cuánta gente? ¿Qué aspectos específicos?
            Necesitamos métricas concretas.
          </div>

          <div id="scenario-data" class="scenario-result">
            <strong>✅ Enfoque Correcto:</strong> En ingeniería, convertimos
            opiniones en hechos medibles. Hoy aprenderemos cómo transformar
            datos en decisiones inteligentes.
          </div>
        </div>
      </div>

      <!-- Slide 2: Measurement Hierarchy -->
      <div id="slide2" class="slide hidden" aria-hidden="true">
        <div class="pyramid-container">
          <div class="pyramid-title">La Jerarquía de la Medición</div>
          <p
            style="
              text-align: center;
              margin-bottom: 30px;
              font-size: 1.2em;
              color: #666;
            "
          >
            <strong>Medida, Métrica, Indicador: No son lo mismo</strong>
          </p>

          <div class="pyramid">
            <!-- Indicator Level -->
            <div
              class="level indicator-level"
              onclick="toggleExamples('indicator')"
            >
              <div class="level-title">🎯 INDICADOR (Indicator)</div>
              <div class="level-definition">
                Una métrica comparada contra una meta o umbral, que nos da una
                señal para actuar. Es la métrica convertida en inteligencia de
                negocio.
              </div>
              <div id="indicator-examples" class="examples">
                <div class="example-item">
                  <div class="example-title">
                    🔴 Indicador de Calidad del Código:
                  </div>
                  La densidad de defectos (30) es ROJA porque nuestro umbral
                  aceptable es < 10.<br />
                  <strong>Acción:</strong> Detener nuevas funcionalidades y
                  refactorizar.
                </div>
                <div class="example-item">
                  <div class="example-title">🟡 Indicador de Rendimiento:</div>
                  El tiempo de carga (3.2s) es AMARILLO porque la meta es < 2s,
                  pero el umbral de alerta es 3s.<br />
                  <strong>Acción:</strong> Crear una tarea técnica para
                  investigar la lentitud.
                </div>
              </div>
            </div>

            <!-- Metric Level -->
            <div class="level metric-level" onclick="toggleExamples('metric')">
              <div class="level-title">📊 MÉTRICA (Metric)</div>
              <div class="level-definition">
                Un cálculo derivado que relaciona dos o más medidas para
                proporcionar contexto y permitir la comparación. Una métrica
                transforma un dato en información.
              </div>
              <div id="metric-examples" class="examples">
                <div class="example-item">
                  <div class="example-title">Densidad de Defectos:</div>
                  15 defectos / 0.5 KLOC = 30 defectos/KLOC
                </div>
                <div class="example-item">
                  <div class="example-title">Velocidad del Equipo:</div>
                  8 historias de usuario / mes
                </div>
                <div class="example-item">
                  <div class="example-title">Tasa de Fuga de Defectos:</div>
                  (Defectos encontrados en producción / Total de defectos) × 100
                </div>
              </div>
            </div>

            <!-- Measure Level -->
            <div
              class="level measure-level"
              onclick="toggleExamples('measure')"
            >
              <div class="level-title">📏 MEDIDA (Measure)</div>
              <div class="level-definition">
                Un dato cuantitativo directo. Es el número crudo, el hecho
                fundamental. No tiene juicio de valor por sí mismo.
              </div>
              <div id="measure-examples" class="examples">
                <div class="example-item">
                  <div class="example-title">Líneas de Código:</div>
                  "El módulo de login tiene 500 líneas de código (LOC)."
                </div>
                <div class="example-item">
                  <div class="example-title">Defectos Encontrados:</div>
                  "Se encontraron 15 defectos durante el Sprint 3."
                </div>
                <div class="example-item">
                  <div class="example-title">Tiempo de Carga:</div>
                  "La página de inicio tardó 3.2 segundos en cargar."
                </div>
                <div class="example-item">
                  <div class="example-title">Historias Completadas:</div>
                  "El equipo completó 8 historias de usuario este mes."
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Discussion Section -->
        <div class="interactive-section">
          <div class="discussion-prompt">
            <div class="discussion-title">💭 Punto de Discusión</div>
            <p>
              <strong
                >Si les digo que "encontramos 50 bugs este mes", ¿es una buena o
                mala noticia?</strong
              >
            </p>
            <p>
              ¿Qué más necesitan saber para convertir esa medida en un indicador
              útil?
            </p>

            <div style="margin-top: 20px">
              <button
                class="scenario-button"
                onclick="showDiscussion('context')"
              >
                🤔 Necesito más contexto
              </button>
            </div>

            <div id="discussion-context" class="scenario-result">
              <strong
                >¡Exacto! Para convertir una medida en un indicador útil
                necesitamos:</strong
              >
              <ul style="margin-top: 15px; padding-left: 20px">
                <li>
                  <strong>Tamaño del proyecto:</strong> ¿50 bugs en 1,000 o
                  100,000 líneas de código?
                </li>
                <li>
                  <strong>Comparación temporal:</strong> ¿El mes anterior fueron
                  30 o 80 bugs?
                </li>
                <li>
                  <strong>Severidad:</strong> ¿Son bugs críticos o cosméticos?
                </li>
                <li>
                  <strong>Fase del proyecto:</strong> ¿Estamos en desarrollo o
                  en producción?
                </li>
                <li>
                  <strong>Umbral establecido:</strong> ¿Cuál es nuestro objetivo
                  de calidad?
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 3: GQM Model -->
      <div id="slide3" class="slide hidden" aria-hidden="true">
        <div class="pyramid-container">
          <div class="pyramid-title">Midiendo con Propósito: El Modelo GQM</div>
          <div class="subtitle" style="text-align: center; margin-bottom: 30px">
            Goal - Question - Metric
          </div>

          <div class="engagement-section">
            <div class="engagement-title">¿Por qué GQM?</div>
            <p>
              Antes de medir cualquier cosa, debemos preguntarnos:
              <strong>¿POR QUÉ estamos midiendo?</strong>
            </p>
            <p>
              GQM es un enfoque estructurado para asegurar que solo medimos lo
              que realmente importa para alcanzar nuestros objetivos de negocio
              o de proyecto, evitando el
              <em>"síndrome del objeto brillante"</em> (medir cosas solo porque
              son fáciles de medir).
            </p>
          </div>

          <div class="gqm-flow">
            <!-- Goal Level -->
            <div
              class="gqm-level goal-level"
              onclick="toggleGQMExample('goal')"
            >
              <div class="gqm-number">1</div>
              <div class="gqm-content">
                <div class="gqm-title">🎯 GOAL (Objetivo)</div>
                <div class="gqm-definition">
                  Un objetivo de alto nivel, usualmente cualitativo, que se
                  quiere lograr.
                </div>
                <div id="goal-example" class="gqm-example">
                  <div class="example-box">
                    <strong>Ejemplo:</strong><br />
                    "Mejorar la satisfacción del usuario con el rendimiento de
                    nuestra aplicación móvil."
                  </div>
                </div>
              </div>
            </div>

            <div class="gqm-arrow">⬇️</div>

            <!-- Question Level -->
            <div
              class="gqm-level question-level"
              onclick="toggleGQMExample('question')"
            >
              <div class="gqm-number">2</div>
              <div class="gqm-content">
                <div class="gqm-title">❓ QUESTION (Pregunta)</div>
                <div class="gqm-definition">
                  Una o más preguntas que, si se responden, nos dirán si estamos
                  alcanzando el objetivo. Hacen el objetivo tangible.
                </div>
                <div id="question-example" class="gqm-example">
                  <div class="example-box">
                    <strong>Preguntas para el objetivo:</strong><br />
                    • ¿La aplicación se siente rápida para el usuario?<br />
                    • ¿La aplicación consume demasiada batería?<br />
                    • ¿La aplicación se bloquea o cierra inesperadamente?
                  </div>
                </div>
              </div>
            </div>

            <div class="gqm-arrow">⬇️</div>

            <!-- Metric Level -->
            <div
              class="gqm-level metric-level-gqm"
              onclick="toggleGQMExample('metric')"
            >
              <div class="gqm-number">3</div>
              <div class="gqm-content">
                <div class="gqm-title">📊 METRIC (Métrica)</div>
                <div class="gqm-definition">
                  Los datos cuantitativos que necesitamos recolectar para
                  responder a cada pregunta. Deben ser específicos y medibles.
                </div>
                <div id="metric-example" class="gqm-example">
                  <div class="example-box">
                    <strong>Métricas para las preguntas:</strong><br />
                    <strong>¿Rapidez?</strong> Tiempo de carga de pantalla
                    principal (segundos), Tiempo de respuesta de búsqueda
                    (ms)<br />
                    <strong>¿Batería?</strong> Porcentaje de consumo de batería
                    por hora de uso<br />
                    <strong>¿Bloqueos?</strong> Número de crashes por cada 1000
                    sesiones (Crash Rate)
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="conclusion-box">
            <div class="conclusion-title">🔑 Conclusión Clave</div>
            <p>
              "GQM nos obliga a empezar por el final: el resultado de negocio
              que queremos impactar. Solo después definimos qué datos
              necesitamos para llegar ahí."
            </p>
          </div>
        </div>
      </div>

      <!-- Slide 4: Activity -->
      <div id="slide4" class="slide hidden" aria-hidden="true">
        <div class="pyramid-container">
          <div class="pyramid-title">¡A Medir se ha Dicho!</div>
          <div class="subtitle" style="text-align: center; margin-bottom: 30px">
            Actividad Práctica - Foro en Classroom (20-25 min)
          </div>

          <div class="activity-context">
            <div class="context-box">
              <div class="context-title">🎬 Contexto</div>
              <p>
                Imaginen que son parte del equipo de calidad de
                <strong>Netflix</strong>.
              </p>
            </div>
          </div>

          <div class="activity-task">
            <div class="task-title">📝 Tarea</div>
            <div class="task-description">
              <p>
                Abran el foro en Classroom y respondan a la siguiente pregunta:
              </p>
              <div class="question-box">
                <strong
                  >"Propongan una medida, una métrica derivada de ella, y un
                  indicador para la funcionalidad de 'búsqueda de películas' en
                  Netflix. Expliquen qué decisión de negocio o técnica podrían
                  tomar basándose en ese indicador."</strong
                >
              </div>
            </div>
          </div>

          <div class="example-guide">
            <div class="guide-title">💡 Ejemplo para Guiar</div>
            <div class="guide-content">
              <div class="guide-item">
                <strong>📏 Medida:</strong> Tiempo que tarda en aparecer un
                resultado de búsqueda (milisegundos)
              </div>
              <div class="guide-item">
                <strong>📊 Métrica:</strong> Tiempo de búsqueda promedio por
                usuario
              </div>
              <div class="guide-item">
                <strong>🎯 Indicador:</strong> Si el tiempo promedio > 500ms, el
                indicador es ROJO
              </div>
              <div class="guide-item">
                <strong>⚡ Decisión:</strong> "Si el indicador es rojo, debemos
                asignar recursos de ingeniería para optimizar el algoritmo de
                búsqueda en el siguiente sprint."
              </div>
            </div>
          </div>

          <div class="activity-requirements">
            <div class="req-title">✅ Requisito Adicional</div>
            <p>
              Comenten la publicación de al menos
              <strong>dos compañeros</strong>, sugiriendo mejoras o alternativas
              a sus propuestas.
            </p>
          </div>

          <div class="time-management">
            <div class="time-title">⏱️ Gestión del Tiempo</div>
            <div class="time-breakdown">
              <div class="time-item">
                <span class="time-duration">2 min</span>
                <span class="time-activity"
                  >Explicar la actividad y el ejemplo</span
                >
              </div>
              <div class="time-item">
                <span class="time-duration">10 min</span>
                <span class="time-activity">Escribir post inicial</span>
              </div>
              <div class="time-item">
                <span class="time-duration">8 min</span>
                <span class="time-activity"
                  >Leer y comentar posts de compañeros</span
                >
              </div>
              <div class="time-item">
                <span class="time-duration">5 min</span>
                <span class="time-activity"
                  >Discutir mejores ejemplos en voz alta</span
                >
              </div>
            </div>
          </div>

          <div class="activity-timer">
            <button class="timer-button" onclick="startTimer(600)">
              ⏰ Iniciar Timer (10 min)
            </button>
            <button class="timer-button" onclick="startTimer(480)">
              ⏰ Timer Comentarios (8 min)
            </button>
            <div id="timer-display" class="timer-display"></div>
          </div>
        </div>
      </div>

    </main>

    <div class="qs-slide-fab">
      <button
        type="button"
        class="qs-slide-fab__btn is-prev"
        data-slide-direction="prev"
        aria-label="Diapositiva anterior"
      >
        <span aria-hidden="true">←</span>
      </button>
      <button
        type="button"
        class="qs-slide-fab__btn is-next"
        data-slide-direction="next"
        aria-label="Diapositiva siguiente"
      >
        <span aria-hidden="true">→</span>
      </button>
    </div>
    <script>
      const slideButtons = Array.from(
        document.querySelectorAll('.slide-toolbar .slide-tab')
      );
      const slides = Array.from(
        document.querySelectorAll('main [id^="slide"]')
      ).filter((element) => /^slide\d+$/i.test(element.id));
      const mainContent = document.querySelector('main');
      const fabButtons = Array.from(
        document.querySelectorAll('.qs-slide-fab__btn')
      );
      const prevFab =
        fabButtons.find((button) => button.dataset.slideDirection === 'prev') ||
        null;
      const nextFab =
        fabButtons.find((button) => button.dataset.slideDirection === 'next') ||
        null;
      const totalSlides = Math.max(slides.length, slideButtons.length);
      const prefersReducedMotion = (() => {
        try {
          return (
            window.matchMedia &&
            window.matchMedia('(prefers-reduced-motion: reduce)').matches
          );
        } catch (_) {
          return false;
        }
      })();
      let currentSlide = 1;
      let timerInterval = null;

      function updateFabState() {
        if (!prevFab && !nextFab) return;
        const isSingleSlide = totalSlides <= 1;
        const atStart = isSingleSlide || currentSlide <= 1;
        const atEnd = isSingleSlide || currentSlide >= totalSlides;

        if (prevFab) {
          prevFab.disabled = atStart;
          prevFab.classList.toggle('is-disabled', atStart);
          if (atStart) {
            prevFab.setAttribute('aria-disabled', 'true');
          } else {
            prevFab.removeAttribute('aria-disabled');
          }
        }

        if (nextFab) {
          nextFab.disabled = atEnd;
          nextFab.classList.toggle('is-disabled', atEnd);
          if (atEnd) {
            nextFab.setAttribute('aria-disabled', 'true');
          } else {
            nextFab.removeAttribute('aria-disabled');
          }
        }
      }

      function showSlide(slideNumber) {
        if (totalSlides === 0) {
          updateFabState();
          return;
        }

        const targetSlide = Math.min(Math.max(slideNumber, 1), totalSlides);

        slides.forEach((slide, index) => {
          if (!slide) return;
          const isActive = index + 1 === targetSlide;
          slide.classList.toggle('hidden', !isActive);
          slide.setAttribute('aria-hidden', isActive ? 'false' : 'true');
        });

        slideButtons.forEach((button, index) => {
          const displayIndex = index + 1;
          const isActive = displayIndex === targetSlide;
          const slideElement = slides[index] ||
            document.getElementById('slide' + displayIndex);

          if (slideElement) {
            slideElement.classList.toggle('hidden', !isActive);
            slideElement.setAttribute('aria-hidden', isActive ? 'false' : 'true');
          }

          button.classList.toggle('slide-tab-active', isActive);
          button.setAttribute('aria-selected', isActive ? 'true' : 'false');
          button.setAttribute('tabindex', isActive ? '0' : '-1');
        });

        const activeButton = document.getElementById(
          'slide' + targetSlide + '-btn'
        );

        if (activeButton) {
          const behavior = prefersReducedMotion ? 'auto' : 'smooth';
          try {
            requestAnimationFrame(() => {
              activeButton.scrollIntoView({
                behavior,
                block: 'nearest',
                inline: 'center',
              });
            });
          } catch (_) {
            if (!prefersReducedMotion) {
              activeButton.scrollIntoView();
            }
          }
        }

        currentSlide = targetSlide;
        updateFabState();

        if (mainContent) {
          const behavior = prefersReducedMotion ? 'auto' : 'smooth';
          const rect = mainContent.getBoundingClientRect();
          const scrollTop =
            typeof window.scrollY === 'number'
              ? window.scrollY
              : window.pageYOffset || 0;

          const resolveAnchorOffset = () => {
            let computedOffset = 0;
            try {
              const docEl = document.documentElement;
              if (docEl && typeof window.getComputedStyle === 'function') {
                const value = window
                  .getComputedStyle(docEl)
                  .getPropertyValue('--anchor-offset');
                const parsed = parseFloat(value);
                if (!Number.isNaN(parsed) && Number.isFinite(parsed)) {
                  computedOffset = Math.max(0, parsed);
                }
              }
            } catch (_) {}

            if (computedOffset) return computedOffset;

            try {
              const nav = document.querySelector('.qs-nav');
              if (nav) {
                const navRect = nav.getBoundingClientRect();
                if (navRect && navRect.height) {
                  computedOffset = Math.max(0, Math.round(navRect.height) + 12);
                }
              }
            } catch (_) {}

            return computedOffset;
          };

          const anchorOffset = resolveAnchorOffset();
          const targetTop = Math.max(0, rect.top + scrollTop - anchorOffset);

          if (typeof window.scrollTo === 'function') {
            try {
              window.scrollTo({ top: targetTop, behavior });
            } catch (_) {
              window.scrollTo(0, targetTop);
            }
          } else {
            window.scrollTo(0, targetTop);
          }
        }
      }

      function nextSlide() {
        if (totalSlides === 0) return;
        showSlide(currentSlide + 1);
      }

      function previousSlide() {
        if (totalSlides === 0) return;
        showSlide(currentSlide - 1);
      }

      function goToSlide(slideNumber) {
        showSlide(slideNumber);
      }

      document.addEventListener('keydown', (event) => {
        if (event.key === 'ArrowLeft') {
          event.preventDefault();
          previousSlide();
        } else if (event.key === 'ArrowRight') {
          event.preventDefault();
          nextSlide();
        } else if (event.key === ' ' || event.key === 'Spacebar') {
          event.preventDefault();
          nextSlide();
        } else if (/^[1-4]$/.test(event.key)) {
          event.preventDefault();
          showSlide(parseInt(event.key, 10));
        }
      });

      slideButtons.forEach((button, index) => {
        button.addEventListener('click', () => {
          showSlide(index + 1);
        });
      });

      fabButtons.forEach((button) => {
        const direction = button.dataset.slideDirection;
        if (direction === 'prev') {
          button.addEventListener('click', () => {
            previousSlide();
          });
        } else if (direction === 'next') {
          button.addEventListener('click', () => {
            nextSlide();
          });
        }
      });

      if (totalSlides > 0) {
        showSlide(1);
      } else {
        updateFabState();
      }

      window.showSlide = showSlide;
      window.nextSlide = nextSlide;
      window.previousSlide = previousSlide;
      window.goToSlide = goToSlide;

      function toggleExamples(level) {
        const examples = document.getElementById(level + '-examples');
        if (examples) {
          examples.classList.toggle('active');
        }
      }

      function toggleGQMExample(level) {
        const example = document.getElementById(level + '-example');
        if (example) {
          example.classList.toggle('active');
        }
      }

      function showScenario(type) {
        document.querySelectorAll('.scenario-result').forEach((el) => {
          el.classList.remove('active');
        });
        const target = document.getElementById('scenario-' + type);
        if (target) {
          target.classList.add('active');
        }
      }

      function showDiscussion(type) {
        document.querySelectorAll('.scenario-result').forEach((el) => {
          el.classList.remove('active');
        });
        const target = document.getElementById('discussion-' + type);
        if (target) {
          target.classList.add('active');
        }
      }

      function resetAll() {
        document.querySelectorAll('.examples').forEach((el) => {
          el.classList.remove('active');
        });
        document.querySelectorAll('.gqm-example').forEach((el) => {
          el.classList.remove('active');
        });
        document.querySelectorAll('.scenario-result').forEach((el) => {
          el.classList.remove('active');
        });
        if (timerInterval) {
          clearInterval(timerInterval);
          timerInterval = null;
        }
        const timerDisplay = document.getElementById('timer-display');
        if (timerDisplay) {
          timerDisplay.textContent = '';
          timerDisplay.classList.remove('warning');
        }
      }

      function showAllExamples() {
        document.querySelectorAll('.examples').forEach((el) => {
          el.classList.add('active');
        });
        document.querySelectorAll('.gqm-example').forEach((el) => {
          el.classList.add('active');
        });
      }

      function startTimer(seconds) {
        if (timerInterval) {
          clearInterval(timerInterval);
        }

        const display = document.getElementById('timer-display');
        if (!display) return;
        let timeLeft = seconds;

        function updateTimer() {
          const minutes = Math.floor(timeLeft / 60);
          const secs = timeLeft % 60;
          display.textContent = `${minutes}:${secs
            .toString()
            .padStart(2, '0')}`;

          if (timeLeft <= 60) {
            display.classList.add('warning');
          } else {
            display.classList.remove('warning');
          }

          if (timeLeft <= 0) {
            clearInterval(timerInterval);
            timerInterval = null;
            display.textContent = '¡Tiempo terminado!';
            display.classList.add('warning');

            try {
              const audioContext = new (window.AudioContext ||
                window.webkitAudioContext)();
              const oscillator = audioContext.createOscillator();
              const gainNode = audioContext.createGain();

              oscillator.connect(gainNode);
              gainNode.connect(audioContext.destination);

              oscillator.frequency.setValueAtTime(
                800,
                audioContext.currentTime
              );
              gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
              gainNode.gain.exponentialRampToValueAtTime(
                0.01,
                audioContext.currentTime + 0.5
              );

              oscillator.start(audioContext.currentTime);
              oscillator.stop(audioContext.currentTime + 0.5);
            } catch (error) {
              console.log('Timer finished!');
            }
            return;
          }
          timeLeft--;
        }

        updateTimer();
        timerInterval = setInterval(updateTimer, 1000);
      }

      document.addEventListener('click', (event) => {
        if (event.target.tagName === 'BUTTON') {
          event.target.style.transform = 'scale(0.95)';
          setTimeout(() => {
            event.target.style.transform = '';
          }, 150);
        }
      });
    </script>





  <script defer src="js/back-home.js"></script>
  <script defer src="js/nav-inject.js"></script>
  
<script type="module" src="js/layout.js"></script>
</body>
</html>
