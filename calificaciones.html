<!DOCTYPE html>
<html lang="es" data-layout="global">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Calificaciones · Plataforma QS</title>
    
    <script>
        (function() {
            // Helper script to resolve the base path for CSS includes.
            // This is necessary for deployments in subdirectories (like GitHub Pages).
            var basePath = (function() {
                var scripts = document.getElementsByTagName('script');
                var scriptPath = scripts[scripts.length - 1].src;
                var path = new URL('.', scriptPath).pathname;
                // Adjust this if your 'js' folder is not at the root.
                // It assumes the script is in 'js/' and we need to go up one level.
                return path.substring(0, path.lastIndexOf('js/') || path.length);
            })();

            // Don't run if we are inside a script that is NOT this one
            if(basePath.includes("js/")) return

            [
                'css/layout.css',
                'css/calificaciones.css'
            ].forEach(function(href) {
                var link = document.createElement('link');
                link.rel = 'stylesheet';
                link.href = basePath + href;
                document.head.appendChild(link);
            });
        })();
    </script>
    
    <noscript>
        <link rel="stylesheet" href="css/layout.css">
        <link rel="stylesheet" href="css/calificaciones.css">
    </noscript>
</head>
<body>
    <main class="page-shell">
        <div class="calificaciones-header">
            <h1>Panel de Calificaciones</h1>
            <p>Consulta el estado y feedback de tus entregas.</p>
        </div>
        
        <div id="calificaciones-summary" class="calificaciones-summary">
            <div class="summary-item" data-summary="promedio">
                <span class="summary-label">Promedio General</span>
                <span class="summary-value">--</span>
            </div>
            <div class="summary-item" data-summary="completadas">
                <span class="summary-label">Entregas Completadas</span>
                <span class="summary-value">--</span>
            </div>
            <div class="summary-item" data-summary="pendientes">
                <span class="summary-label">Entregas Pendientes</span>
                <span class="summary-value">--</span>
            </div>
        </div>

        <div id="calificaciones-container" class="calificaciones-container">
            <!-- El contenido se generará dinámicamente -->
        </div>

        <div class="calificaciones-status" id="calificaciones-status" role="status" aria-live="polite">
            Inicia sesión para ver tus calificaciones.
        </div>
    </main>
    
    <script type="module" src="js/calificaciones-logic.js"></script>
    <script defer src="js/back-home.js"></script>
    <script type="module" src="js/layout.js"></script>

</body>
</html>
