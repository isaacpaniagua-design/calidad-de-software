<!DOCTYPE html>
<html lang="es" data-layout="global">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sistema de Gestión de Calificaciones - Calidad de Software</title>

    <link rel="stylesheet" href="css/layout.css" />
    <link rel="stylesheet" href="css/calificaciones.css" />

    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");
      body {
        font-family: "Inter", sans-serif;
      }
    </style>
  </head>
  <body id="calificaciones-root">
    
    <div class="qs-nav" data-role="main-nav">
        </div>

    <header class="grades-hero">
        </header>

    <div class="container mx-auto px-6 py-8">
      <div id="grades-table-container" style="display: none;">
        <div class="bg-white rounded-lg card-shadow p-6">
          <h2 class="text-xl font-semibold text-gray-800 mb-4" id="grades-title">
            Mis Calificaciones
          </h2>
          <div class="overflow-x-auto">
            <table class="w-full text-left">
              <thead>
                <tr class="border-b bg-gray-50">
                  <th class="py-3 px-4 font-semibold text-left">Nombre del Estudiante</th>
                  <th class="py-3 px-4 font-semibold text-center">Unidad 1</th>
                  <th class="py-3 px-4 font-semibold text-center">Unidad 2</th>
                  <th class="py-3 px-4 font-semibold text-center">Proyecto Final</th>
                  <th class="py-3 px-4 font-semibold text-center">Calificación Final</th>
                </tr>
              </thead>
              <tbody id="grades-table-body">
                <tr><td colspan="5" class="text-center py-4">Cargando calificaciones...</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div id="student-uploads-container" class="container mx-auto px-4 py-8" style="display: none;">
        <details class="student-uploads" open>
            <summary class="student-uploads__summary">
                <div class="student-uploads__header">
                    <span class="student-uploads__eyebrow">Evidencias en línea</span>
                    <h2 class="student-uploads__title">Entrega tus actividades y tareas</h2>
                    <p class="student-uploads__description">
                        Sube tus archivos directamente a la plataforma. Cada entrega quedará asociada a tu cuenta para su revisión.
                    </p>
                </div>
                <span class="student-uploads__chevron" aria-hidden="true"></span>
            </summary>
            <div class="student-uploads__panel">
                <button id="upload_widget_opener" class="w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-md hover:bg-indigo-700 transition">
                    Seleccionar Archivo para Subir
                </button>
                <div id="upload-status" class="mt-4 text-center font-semibold"></div>
            </div>
        </details>
      </div>
      </div>
    
    <script>
      // Configuración de Firebase (se mantiene igual)
      window.firebaseConfig = {
        apiKey: "AIzaSyBDip2OjSOUZrr3iiIle2Klodify9LaLe8",
        authDomain: "calidad-de-software-v2.firebaseapp.com",
        projectId: "calidad-de-software-v2",
        storageBucket: "calidad-de-software-v2.appspot.com",
        messagingSenderId: "220818066383",
        appId: "1:220818066383:web:0c2119f470a5f9711b60ba",
      };
    </script>
    
    <script src="js/auth-guard.js" type="module"></script>
    <script src="js/grade-calculator.js" type="module"></script>
    <script src="js/calificaciones-backend.js" type="module"></script>
    <script src="js/student-file-uploader.js" type="module"></script>
    <script src="js/layout.js" type="module"></script>
    
    <script type="module" src="js/calificaciones-uploads-ui.js"></script>
    <script type="module" src="js/calificaciones-teacher-sync.js"></script>
    <script type="module" src="./js/role-gate.js"></script>
    <script defer src="js/nav-inject.js"></script>
    <script defer src="js/back-home.js"></script>
    
  </body>
</html>

